{"version":3,"sources":["../../src/ts/entities/rowPosition.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,0CAAuC;AACvC,8CAAmD;AAGnD,kCAA2B;AAS3B;IAAA;IA6CA,CAAC;IAxCU,qCAAU,GAAjB,UAAkB,OAAoB;QAClC,QAAQ,OAAO,CAAC,SAAS,EAAE;YACvB,KAAK,qBAAS,CAAC,UAAU;gBACrB,OAAO,IAAI,CAAC,cAAc,CAAC,mBAAmB,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACvE,KAAK,qBAAS,CAAC,aAAa;gBACxB,OAAO,IAAI,CAAC,cAAc,CAAC,sBAAsB,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC1E;gBACI,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SACrD;IACL,CAAC;IAEM,kCAAO,GAAd,UAAe,IAA6B,EAAE,IAA6B;QACvE,kBAAkB;QAClB,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE;YAAE,OAAO,IAAI,CAAC;SAAE;QACpC,sBAAsB;QACtB,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,EAAE;YAAE,OAAO,KAAK,CAAC;SAAE;QACzD,sFAAsF;QACtF,OAAO,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC;IAC/E,CAAC;IAED,gEAAgE;IACzD,iCAAM,GAAb,UAAc,IAAiB,EAAE,IAAiB;QAC9C,QAAQ,IAAI,CAAC,SAAS,EAAE;YACpB,KAAK,qBAAS,CAAC,UAAU;gBACrB,qEAAqE;gBACrE,IAAI,IAAI,CAAC,SAAS,KAAK,qBAAS,CAAC,UAAU,EAAE;oBAAE,OAAO,IAAI,CAAC;iBAAE;gBAC7D,MAAM;YACV,KAAK,qBAAS,CAAC,aAAa;gBACxB,2EAA2E;gBAC3E,IAAI,IAAI,CAAC,SAAS,KAAK,qBAAS,CAAC,aAAa,EAAE;oBAAE,OAAO,KAAK,CAAC;iBAAE;gBACjE,MAAM;YACV;gBACI,2DAA2D;gBAC3D,IAAI,SAAC,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;oBAC1B,OAAO,IAAI,CAAC,SAAS,KAAK,qBAAS,CAAC,UAAU,CAAC;iBAClD;gBACD,MAAM;SACb;QACD,OAAO,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IACzC,CAAC;IA1CsB;QAAtB,mBAAS,CAAC,UAAU,CAAC;sDAA6B;IACtB;QAA5B,mBAAS,CAAC,gBAAgB,CAAC;4DAAwC;IAH3D,gBAAgB;QAD5B,cAAI,CAAC,kBAAkB,CAAC;OACZ,gBAAgB,CA6C5B;IAAD,uBAAC;CA7CD,AA6CC,IAAA;AA7CY,4CAAgB","file":"rowPosition.js","sourcesContent":["import {Constants} from \"../constants\";\nimport {Autowired, Bean} from \"../context/context\";\nimport {IRowModel} from \"../interfaces/iRowModel\";\nimport {RowNode} from \"./rowNode\";\nimport {_} from \"../utils\";\nimport {PinnedRowModel} from \"../pinnedRowModel/pinnedRowModel\";\n\nexport interface RowPosition {\n    rowIndex: number;\n    rowPinned: string | undefined;\n}\n\n@Bean('rowPositionUtils')\nexport class RowPositionUtils {\n\n    @Autowired('rowModel') private rowModel: IRowModel;\n    @Autowired('pinnedRowModel') private pinnedRowModel: PinnedRowModel;\n\n    public getRowNode(gridRow: RowPosition): RowNode | null {\n        switch (gridRow.rowPinned) {\n            case Constants.PINNED_TOP:\n                return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];\n            case Constants.PINNED_BOTTOM:\n                return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];\n            default:\n                return this.rowModel.getRow(gridRow.rowIndex);\n        }\n    }\n\n    public sameRow(rowA: RowPosition | undefined, rowB: RowPosition | undefined): boolean {\n        // if both missing\n        if (!rowA && !rowB) { return true; }\n        // if only one missing\n        if ((rowA && !rowB) || (!rowA && rowB)) { return false; }\n        // otherwise compare (use == to compare rowPinned because it can be null or undefined)\n        return rowA.rowIndex === rowB.rowIndex && rowA.rowPinned == rowB.rowPinned;\n    }\n\n    // tests if this row selection is before the other row selection\n    public before(rowA: RowPosition, rowB: RowPosition): boolean {\n        switch (rowA.rowPinned) {\n            case Constants.PINNED_TOP:\n                // we we are floating top, and other isn't, then we are always before\n                if (rowB.rowPinned !== Constants.PINNED_TOP) { return true; }\n                break;\n            case Constants.PINNED_BOTTOM:\n                // if we are floating bottom, and the other isn't, then we are never before\n                if (rowB.rowPinned !== Constants.PINNED_BOTTOM) { return false; }\n                break;\n            default:\n                // if we are not floating, but the other one is floating...\n                if (_.exists(rowB.rowPinned)) {\n                    return rowB.rowPinned !== Constants.PINNED_TOP;\n                }\n                break;\n        }\n        return rowA.rowIndex < rowB.rowIndex;\n    }\n}\n"]}