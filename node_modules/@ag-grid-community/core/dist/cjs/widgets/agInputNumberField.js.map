{"version":3,"sources":["../../src/ts/widgets/agInputNumberField.ts"],"names":[],"mappings":"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","file":"agInputNumberField.js","sourcesContent":["import { AgInputTextField } from \"./agInputTextField\";\n\nexport class AgInputNumberField extends AgInputTextField {\n\n    protected className = 'ag-number-field';\n    protected inputType = 'number';\n    private precision: number | undefined;\n    private step: number | undefined;\n    private min: number | undefined;\n    private max: number | undefined;\n\n    postConstruct() {\n        super.postConstruct();\n        this.addDestroyableEventListener(this.eInput, 'blur', () => {\n            const value = this.normalizeValue(this.eInput.value);\n            if (this.value !== value) {\n                this.setValue(value);\n            }\n        });\n    }\n\n    public normalizeValue(value: string): string {\n        if (value === '') { return  ''; }\n\n        if (this.precision) {\n            value = this.adjustPrecision(value);\n        }\n\n        const val = parseFloat(value);\n\n        if (this.min != null && val < this.min) {\n            value = this.min.toString();\n        } else if (this.max != null && val > this.max) {\n            value = this.max.toString();\n        }\n\n        return value;\n    }\n\n    private adjustPrecision(value: string): string {\n        if (this.precision) {\n            const floatString = parseFloat(value).toFixed(this.precision);\n            value = parseFloat(floatString).toString();\n        }\n\n        return value;\n    }\n\n    public setMin(min: number | undefined): this {\n        if (this.min === min) {\n            return this;\n        }\n        this.min = min;\n\n        if (this.min != null) {\n            this.eInput.setAttribute('min', min.toString());\n        } else {\n            this.eInput.removeAttribute('min');\n        }\n        return this;\n    }\n\n    public setMax(max: number | undefined): this {\n        if (this.max === max) {\n            return this;\n        }\n        this.max = max;\n\n        if (this.max != null) {\n            this.eInput.setAttribute('max', max.toString());\n        } else {\n            this.eInput.removeAttribute('max');\n        }\n        return this;\n    }\n\n    public setPrecision(precision: number): this {\n        this.precision = precision;\n\n        return this;\n    }\n\n    public setStep(step?: number): this {\n        if (this.step === step) {\n            return this;\n        }\n\n        this.step = step;\n        if (step != null) {\n            this.eInput.setAttribute('step', step.toString());\n        } else {\n            this.eInput.removeAttribute('step');\n        }\n\n        return this;\n    }\n\n    public setValue(value: string, silent?: boolean): this {\n        value = this.adjustPrecision(value);\n        const normalizedValue = this.normalizeValue(value);\n\n        if (value != normalizedValue) { return this; }\n\n        return super.setValue(value, silent);\n    }\n}"]}