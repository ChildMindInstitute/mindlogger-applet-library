{"remainingRequest":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VCalendar/mixins/calendar-with-events.js","dependencies":[{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VCalendar/mixins/calendar-with-events.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/web.dom.iterable\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Styles\nimport \"../../../../src/components/VCalendar/mixins/calendar-with-events.sass\"; // Directives\n\nimport ripple from \"../../../directives/ripple\"; // Mixins\n\nimport CalendarBase from \"./calendar-base\"; // Helpers\n\nimport { escapeHTML } from \"../../../util/helpers\"; // Util\n\nimport props from \"../util/props\";\nimport { CalendarEventOverlapModes } from \"../modes\";\nimport { getDayIdentifier, diffMinutes } from \"../util/timestamp\";\nimport { parseEvent, isEventStart, isEventOn, isEventOverlapping } from \"../util/events\";\nvar WIDTH_FULL = 100;\nvar WIDTH_START = 95;\nvar MINUTES_IN_DAY = 1440;\n/* @vue/component */\n\nexport default CalendarBase.extend({\n  name: 'calendar-with-events',\n  directives: {\n    ripple: ripple\n  },\n  props: props.events,\n  computed: {\n    noEvents: function noEvents() {\n      return this.events.length === 0;\n    },\n    parsedEvents: function parsedEvents() {\n      var _this = this;\n\n      return this.events.map(function (input, index) {\n        return parseEvent(input, index, _this.eventStart, _this.eventEnd);\n      });\n    },\n    parsedEventOverlapThreshold: function parsedEventOverlapThreshold() {\n      return parseInt(this.eventOverlapThreshold);\n    },\n    eventColorFunction: function eventColorFunction() {\n      var _this2 = this;\n\n      return typeof this.eventColor === 'function' ? this.eventColor : function () {\n        return _this2.eventColor;\n      };\n    },\n    eventTextColorFunction: function eventTextColorFunction() {\n      var _this3 = this;\n\n      return typeof this.eventTextColor === 'function' ? this.eventTextColor : function () {\n        return _this3.eventTextColor;\n      };\n    },\n    eventNameFunction: function eventNameFunction() {\n      var _this4 = this;\n\n      return typeof this.eventName === 'function' ? this.eventName : function (event, timedEvent) {\n        var name = escapeHTML(event.input[_this4.eventName]);\n\n        if (event.start.hasTime) {\n          if (timedEvent) {\n            var showStart = event.start.hour < 12 && event.end.hour >= 12;\n\n            var start = _this4.formatTime(event.start, showStart);\n\n            var end = _this4.formatTime(event.end, true);\n\n            var singline = diffMinutes(event.start, event.end) <= _this4.parsedEventOverlapThreshold;\n\n            var separator = singline ? ', ' : '<br>';\n            return \"<strong>\".concat(name, \"</strong>\").concat(separator).concat(start, \" - \").concat(end);\n          } else {\n            var time = _this4.formatTime(event.start, true);\n\n            return \"<strong>\".concat(time, \"</strong> \").concat(name);\n          }\n        }\n\n        return name;\n      };\n    },\n    eventModeFunction: function eventModeFunction() {\n      return typeof this.eventOverlapMode === 'function' ? this.eventOverlapMode : CalendarEventOverlapModes[this.eventOverlapMode];\n    },\n    eventWeekdays: function eventWeekdays() {\n      return this.parsedWeekdays;\n    }\n  },\n  methods: {\n    formatTime: function formatTime(withTime, ampm) {\n      var formatter = this.getFormatter({\n        timeZone: 'UTC',\n        hour: 'numeric',\n        minute: withTime.minute > 0 ? 'numeric' : undefined\n      });\n      return formatter(withTime, true);\n    },\n    updateEventVisibility: function updateEventVisibility() {\n      if (this.noEvents || !this.eventMore) {\n        return;\n      }\n\n      var eventHeight = this.eventHeight;\n      var eventsMap = this.getEventsMap();\n\n      for (var date in eventsMap) {\n        var _eventsMap$date = eventsMap[date],\n            parent = _eventsMap$date.parent,\n            events = _eventsMap$date.events,\n            more = _eventsMap$date.more;\n\n        if (!more) {\n          break;\n        }\n\n        var parentBounds = parent.getBoundingClientRect();\n        var last = events.length - 1;\n        var hide = false;\n        var hidden = 0;\n\n        for (var i = 0; i <= last; i++) {\n          if (!hide) {\n            var eventBounds = events[i].getBoundingClientRect();\n            hide = i === last ? eventBounds.bottom > parentBounds.bottom : eventBounds.bottom + eventHeight > parentBounds.bottom;\n          }\n\n          if (hide) {\n            events[i].style.display = 'none';\n            hidden++;\n          }\n        }\n\n        if (hide) {\n          more.style.display = '';\n          more.innerHTML = this.$vuetify.lang.t(this.eventMoreText, hidden);\n        } else {\n          more.style.display = 'none';\n        }\n      }\n    },\n    getEventsMap: function getEventsMap() {\n      var eventsMap = {};\n      var elements = this.$refs.events;\n\n      if (!elements || !elements.forEach) {\n        return eventsMap;\n      }\n\n      elements.forEach(function (el) {\n        var date = el.getAttribute('data-date');\n\n        if (el.parentElement && date) {\n          if (!(date in eventsMap)) {\n            eventsMap[date] = {\n              parent: el.parentElement,\n              more: null,\n              events: []\n            };\n          }\n\n          if (el.getAttribute('data-more')) {\n            eventsMap[date].more = el;\n          } else {\n            eventsMap[date].events.push(el);\n            el.style.display = '';\n          }\n        }\n      });\n      return eventsMap;\n    },\n    genDayEvent: function genDayEvent(_ref, day) {\n      var event = _ref.event;\n      var eventHeight = this.eventHeight;\n      var eventMarginBottom = this.eventMarginBottom;\n      var dayIdentifier = getDayIdentifier(day);\n      var week = day.week;\n      var start = dayIdentifier === event.startIdentifier;\n      var end = dayIdentifier === event.endIdentifier;\n      var width = WIDTH_START;\n\n      for (var i = day.index + 1; i < week.length; i++) {\n        var weekdayIdentifier = getDayIdentifier(week[i]);\n\n        if (event.endIdentifier >= weekdayIdentifier) {\n          width += WIDTH_FULL;\n\n          if (weekdayIdentifier === event.endIdentifier) {\n            end = true;\n          }\n        } else {\n          end = true;\n          break;\n        }\n      }\n\n      var scope = {\n        event: event.input,\n        day: day,\n        outside: day.outside,\n        start: start,\n        end: end,\n        timed: false\n      };\n      return this.genEvent(event, scope, false, {\n        staticClass: 'v-event',\n        class: {\n          'v-event-start': start,\n          'v-event-end': end\n        },\n        style: {\n          height: \"\".concat(eventHeight, \"px\"),\n          width: \"\".concat(width, \"%\"),\n          'margin-bottom': \"\".concat(eventMarginBottom, \"px\")\n        },\n        attrs: {\n          'data-date': day.date\n        },\n        key: event.index,\n        ref: 'events',\n        refInFor: true\n      });\n    },\n    genTimedEvent: function genTimedEvent(_ref2, day) {\n      var event = _ref2.event,\n          left = _ref2.left,\n          width = _ref2.width;\n      var dayIdentifier = getDayIdentifier(day);\n      var start = event.startIdentifier >= dayIdentifier;\n      var end = event.endIdentifier > dayIdentifier;\n      var top = start ? day.timeToY(event.start) : 0;\n      var bottom = end ? day.timeToY(MINUTES_IN_DAY) : day.timeToY(event.end);\n      var height = Math.max(this.eventHeight, bottom - top);\n      var scope = {\n        event: event.input,\n        day: day,\n        outside: day.outside,\n        start: start,\n        end: end,\n        timed: true\n      };\n      return this.genEvent(event, scope, true, {\n        staticClass: 'v-event-timed',\n        style: {\n          top: \"\".concat(top, \"px\"),\n          height: \"\".concat(height, \"px\"),\n          left: \"\".concat(left, \"%\"),\n          width: \"\".concat(width, \"%\")\n        }\n      });\n    },\n    genEvent: function genEvent(event, scope, timedEvent, data) {\n      var slot = this.$scopedSlots.event;\n      var text = this.eventTextColorFunction(event.input);\n      var background = this.eventColorFunction(event.input);\n      return this.$createElement('div', this.setTextColor(text, this.setBackgroundColor(background, _objectSpread({\n        on: this.getDefaultMouseEventHandlers(':event', function (nativeEvent) {\n          return _objectSpread({}, scope, {\n            nativeEvent: nativeEvent\n          });\n        }),\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple != null ? this.eventRipple : true\n        }]\n      }, data))), slot ? slot(scope) : [this.genName(event, timedEvent)]);\n    },\n    genName: function genName(event, timedEvent) {\n      return this.$createElement('div', {\n        staticClass: 'pl-1',\n        domProps: {\n          innerHTML: this.eventNameFunction(event, timedEvent)\n        }\n      });\n    },\n    genPlaceholder: function genPlaceholder(day) {\n      var height = this.eventHeight + this.eventMarginBottom;\n      return this.$createElement('div', {\n        style: {\n          height: \"\".concat(height, \"px\")\n        },\n        attrs: {\n          'data-date': day.date\n        },\n        ref: 'events',\n        refInFor: true\n      });\n    },\n    genMore: function genMore(day) {\n      var _this5 = this;\n\n      var eventHeight = this.eventHeight;\n      var eventMarginBottom = this.eventMarginBottom;\n      return this.$createElement('div', {\n        staticClass: 'v-event-more pl-1',\n        class: {\n          'v-outside': day.outside\n        },\n        attrs: {\n          'data-date': day.date,\n          'data-more': 1\n        },\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple != null ? this.eventRipple : true\n        }],\n        on: {\n          click: function click() {\n            return _this5.$emit('click:more', day);\n          }\n        },\n        style: {\n          display: 'none',\n          height: \"\".concat(eventHeight, \"px\"),\n          'margin-bottom': \"\".concat(eventMarginBottom, \"px\")\n        },\n        ref: 'events',\n        refInFor: true\n      });\n    },\n    getVisibleEvents: function getVisibleEvents() {\n      var start = getDayIdentifier(this.days[0]);\n      var end = getDayIdentifier(this.days[this.days.length - 1]);\n      return this.parsedEvents.filter(function (event) {\n        return isEventOverlapping(event, start, end);\n      });\n    },\n    getEventsForDay: function getEventsForDay(day) {\n      var identifier = getDayIdentifier(day);\n      var firstWeekday = this.eventWeekdays[0];\n      return this.parsedEvents.filter(function (event) {\n        return isEventStart(event, day, identifier, firstWeekday);\n      });\n    },\n    getEventsForDayAll: function getEventsForDayAll(day) {\n      var identifier = getDayIdentifier(day);\n      var firstWeekday = this.eventWeekdays[0];\n      return this.parsedEvents.filter(function (event) {\n        return event.allDay && isEventStart(event, day, identifier, firstWeekday);\n      });\n    },\n    getEventsForDayTimed: function getEventsForDayTimed(day) {\n      var identifier = getDayIdentifier(day);\n      return this.parsedEvents.filter(function (event) {\n        return !event.allDay && isEventOn(event, identifier);\n      });\n    },\n    getScopedSlots: function getScopedSlots() {\n      var _this6 = this;\n\n      if (this.noEvents) {\n        return _objectSpread({}, this.$scopedSlots);\n      }\n\n      var mode = this.eventModeFunction(this.parsedEvents, this.eventWeekdays[0], this.parsedEventOverlapThreshold);\n\n      var getSlotChildren = function getSlotChildren(day, getter, mapper, timed) {\n        var events = getter(day);\n\n        if (events.length === 0) {\n          return;\n        }\n\n        var visuals = mode(day, events, timed);\n\n        if (timed) {\n          return visuals.map(function (visual) {\n            return mapper(visual, day);\n          });\n        }\n\n        var children = [];\n        visuals.forEach(function (visual, index) {\n          while (children.length < visual.column) {\n            children.push(_this6.genPlaceholder(day));\n          }\n\n          children.push(mapper(visual, day));\n        });\n        return children;\n      };\n\n      var slots = this.$scopedSlots;\n      var slotDay = slots.day;\n      var slotDayHeader = slots['day-header'];\n      var slotDayBody = slots['day-body'];\n      return _objectSpread({}, slots, {\n        day: function day(_day) {\n          var children = getSlotChildren(_day, _this6.getEventsForDay, _this6.genDayEvent, false);\n\n          if (children && children.length > 0 && _this6.eventMore) {\n            children.push(_this6.genMore(_day));\n          }\n\n          if (slotDay) {\n            var slot = slotDay(_day);\n\n            if (slot) {\n              children = children ? children.concat(slot) : slot;\n            }\n          }\n\n          return children;\n        },\n        'day-header': function dayHeader(day) {\n          var children = getSlotChildren(day, _this6.getEventsForDayAll, _this6.genDayEvent, false);\n\n          if (slotDayHeader) {\n            var slot = slotDayHeader(day);\n\n            if (slot) {\n              children = children ? children.concat(slot) : slot;\n            }\n          }\n\n          return children;\n        },\n        'day-body': function dayBody(day) {\n          var events = getSlotChildren(day, _this6.getEventsForDayTimed, _this6.genTimedEvent, true);\n          var children = [_this6.$createElement('div', {\n            staticClass: 'v-event-timed-container'\n          }, events)];\n\n          if (slotDayBody) {\n            var slot = slotDayBody(day);\n\n            if (slot) {\n              children = children.concat(slot);\n            }\n          }\n\n          return children;\n        }\n      });\n    }\n  }\n});",{"version":3,"sources":["/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VCalendar/mixins/calendar-with-events.js"],"names":["ripple","CalendarBase","escapeHTML","props","CalendarEventOverlapModes","getDayIdentifier","diffMinutes","parseEvent","isEventStart","isEventOn","isEventOverlapping","WIDTH_FULL","WIDTH_START","MINUTES_IN_DAY","extend","name","directives","events","computed","noEvents","length","parsedEvents","map","input","index","eventStart","eventEnd","parsedEventOverlapThreshold","parseInt","eventOverlapThreshold","eventColorFunction","eventColor","eventTextColorFunction","eventTextColor","eventNameFunction","eventName","event","timedEvent","start","hasTime","showStart","hour","end","formatTime","singline","separator","time","eventModeFunction","eventOverlapMode","eventWeekdays","parsedWeekdays","methods","withTime","ampm","formatter","getFormatter","timeZone","minute","undefined","updateEventVisibility","eventMore","eventHeight","eventsMap","getEventsMap","date","parent","more","parentBounds","getBoundingClientRect","last","hide","hidden","i","eventBounds","bottom","style","display","innerHTML","$vuetify","lang","t","eventMoreText","elements","$refs","forEach","el","getAttribute","parentElement","push","genDayEvent","day","eventMarginBottom","dayIdentifier","week","startIdentifier","endIdentifier","width","weekdayIdentifier","scope","outside","timed","genEvent","staticClass","class","height","attrs","key","ref","refInFor","genTimedEvent","left","top","timeToY","Math","max","data","slot","$scopedSlots","text","background","$createElement","setTextColor","setBackgroundColor","on","getDefaultMouseEventHandlers","nativeEvent","value","eventRipple","genName","domProps","genPlaceholder","genMore","click","$emit","getVisibleEvents","days","filter","getEventsForDay","identifier","firstWeekday","getEventsForDayAll","allDay","getEventsForDayTimed","getScopedSlots","mode","getSlotChildren","getter","mapper","visuals","visual","children","column","slots","slotDay","slotDayHeader","slotDayBody","concat"],"mappings":"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","sourcesContent":["// Styles\nimport \"../../../../src/components/VCalendar/mixins/calendar-with-events.sass\"; // Directives\n\nimport ripple from '../../../directives/ripple'; // Mixins\n\nimport CalendarBase from './calendar-base'; // Helpers\n\nimport { escapeHTML } from '../../../util/helpers'; // Util\n\nimport props from '../util/props';\nimport { CalendarEventOverlapModes } from '../modes';\nimport { getDayIdentifier, diffMinutes } from '../util/timestamp';\nimport { parseEvent, isEventStart, isEventOn, isEventOverlapping } from '../util/events';\nconst WIDTH_FULL = 100;\nconst WIDTH_START = 95;\nconst MINUTES_IN_DAY = 1440;\n/* @vue/component */\n\nexport default CalendarBase.extend({\n  name: 'calendar-with-events',\n  directives: {\n    ripple\n  },\n  props: props.events,\n  computed: {\n    noEvents() {\n      return this.events.length === 0;\n    },\n\n    parsedEvents() {\n      return this.events.map((input, index) => parseEvent(input, index, this.eventStart, this.eventEnd));\n    },\n\n    parsedEventOverlapThreshold() {\n      return parseInt(this.eventOverlapThreshold);\n    },\n\n    eventColorFunction() {\n      return typeof this.eventColor === 'function' ? this.eventColor : () => this.eventColor;\n    },\n\n    eventTextColorFunction() {\n      return typeof this.eventTextColor === 'function' ? this.eventTextColor : () => this.eventTextColor;\n    },\n\n    eventNameFunction() {\n      return typeof this.eventName === 'function' ? this.eventName : (event, timedEvent) => {\n        const name = escapeHTML(event.input[this.eventName]);\n\n        if (event.start.hasTime) {\n          if (timedEvent) {\n            const showStart = event.start.hour < 12 && event.end.hour >= 12;\n            const start = this.formatTime(event.start, showStart);\n            const end = this.formatTime(event.end, true);\n            const singline = diffMinutes(event.start, event.end) <= this.parsedEventOverlapThreshold;\n            const separator = singline ? ', ' : '<br>';\n            return `<strong>${name}</strong>${separator}${start} - ${end}`;\n          } else {\n            const time = this.formatTime(event.start, true);\n            return `<strong>${time}</strong> ${name}`;\n          }\n        }\n\n        return name;\n      };\n    },\n\n    eventModeFunction() {\n      return typeof this.eventOverlapMode === 'function' ? this.eventOverlapMode : CalendarEventOverlapModes[this.eventOverlapMode];\n    },\n\n    eventWeekdays() {\n      return this.parsedWeekdays;\n    }\n\n  },\n  methods: {\n    formatTime(withTime, ampm) {\n      const formatter = this.getFormatter({\n        timeZone: 'UTC',\n        hour: 'numeric',\n        minute: withTime.minute > 0 ? 'numeric' : undefined\n      });\n      return formatter(withTime, true);\n    },\n\n    updateEventVisibility() {\n      if (this.noEvents || !this.eventMore) {\n        return;\n      }\n\n      const eventHeight = this.eventHeight;\n      const eventsMap = this.getEventsMap();\n\n      for (const date in eventsMap) {\n        const {\n          parent,\n          events,\n          more\n        } = eventsMap[date];\n\n        if (!more) {\n          break;\n        }\n\n        const parentBounds = parent.getBoundingClientRect();\n        const last = events.length - 1;\n        let hide = false;\n        let hidden = 0;\n\n        for (let i = 0; i <= last; i++) {\n          if (!hide) {\n            const eventBounds = events[i].getBoundingClientRect();\n            hide = i === last ? eventBounds.bottom > parentBounds.bottom : eventBounds.bottom + eventHeight > parentBounds.bottom;\n          }\n\n          if (hide) {\n            events[i].style.display = 'none';\n            hidden++;\n          }\n        }\n\n        if (hide) {\n          more.style.display = '';\n          more.innerHTML = this.$vuetify.lang.t(this.eventMoreText, hidden);\n        } else {\n          more.style.display = 'none';\n        }\n      }\n    },\n\n    getEventsMap() {\n      const eventsMap = {};\n      const elements = this.$refs.events;\n\n      if (!elements || !elements.forEach) {\n        return eventsMap;\n      }\n\n      elements.forEach(el => {\n        const date = el.getAttribute('data-date');\n\n        if (el.parentElement && date) {\n          if (!(date in eventsMap)) {\n            eventsMap[date] = {\n              parent: el.parentElement,\n              more: null,\n              events: []\n            };\n          }\n\n          if (el.getAttribute('data-more')) {\n            eventsMap[date].more = el;\n          } else {\n            eventsMap[date].events.push(el);\n            el.style.display = '';\n          }\n        }\n      });\n      return eventsMap;\n    },\n\n    genDayEvent({\n      event\n    }, day) {\n      const eventHeight = this.eventHeight;\n      const eventMarginBottom = this.eventMarginBottom;\n      const dayIdentifier = getDayIdentifier(day);\n      const week = day.week;\n      const start = dayIdentifier === event.startIdentifier;\n      let end = dayIdentifier === event.endIdentifier;\n      let width = WIDTH_START;\n\n      for (let i = day.index + 1; i < week.length; i++) {\n        const weekdayIdentifier = getDayIdentifier(week[i]);\n\n        if (event.endIdentifier >= weekdayIdentifier) {\n          width += WIDTH_FULL;\n\n          if (weekdayIdentifier === event.endIdentifier) {\n            end = true;\n          }\n        } else {\n          end = true;\n          break;\n        }\n      }\n\n      const scope = {\n        event: event.input,\n        day,\n        outside: day.outside,\n        start,\n        end,\n        timed: false\n      };\n      return this.genEvent(event, scope, false, {\n        staticClass: 'v-event',\n        class: {\n          'v-event-start': start,\n          'v-event-end': end\n        },\n        style: {\n          height: `${eventHeight}px`,\n          width: `${width}%`,\n          'margin-bottom': `${eventMarginBottom}px`\n        },\n        attrs: {\n          'data-date': day.date\n        },\n        key: event.index,\n        ref: 'events',\n        refInFor: true\n      });\n    },\n\n    genTimedEvent({\n      event,\n      left,\n      width\n    }, day) {\n      const dayIdentifier = getDayIdentifier(day);\n      const start = event.startIdentifier >= dayIdentifier;\n      const end = event.endIdentifier > dayIdentifier;\n      const top = start ? day.timeToY(event.start) : 0;\n      const bottom = end ? day.timeToY(MINUTES_IN_DAY) : day.timeToY(event.end);\n      const height = Math.max(this.eventHeight, bottom - top);\n      const scope = {\n        event: event.input,\n        day,\n        outside: day.outside,\n        start,\n        end,\n        timed: true\n      };\n      return this.genEvent(event, scope, true, {\n        staticClass: 'v-event-timed',\n        style: {\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left}%`,\n          width: `${width}%`\n        }\n      });\n    },\n\n    genEvent(event, scope, timedEvent, data) {\n      const slot = this.$scopedSlots.event;\n      const text = this.eventTextColorFunction(event.input);\n      const background = this.eventColorFunction(event.input);\n      return this.$createElement('div', this.setTextColor(text, this.setBackgroundColor(background, {\n        on: this.getDefaultMouseEventHandlers(':event', nativeEvent => ({ ...scope,\n          nativeEvent\n        })),\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple != null ? this.eventRipple : true\n        }],\n        ...data\n      })), slot ? slot(scope) : [this.genName(event, timedEvent)]);\n    },\n\n    genName(event, timedEvent) {\n      return this.$createElement('div', {\n        staticClass: 'pl-1',\n        domProps: {\n          innerHTML: this.eventNameFunction(event, timedEvent)\n        }\n      });\n    },\n\n    genPlaceholder(day) {\n      const height = this.eventHeight + this.eventMarginBottom;\n      return this.$createElement('div', {\n        style: {\n          height: `${height}px`\n        },\n        attrs: {\n          'data-date': day.date\n        },\n        ref: 'events',\n        refInFor: true\n      });\n    },\n\n    genMore(day) {\n      const eventHeight = this.eventHeight;\n      const eventMarginBottom = this.eventMarginBottom;\n      return this.$createElement('div', {\n        staticClass: 'v-event-more pl-1',\n        class: {\n          'v-outside': day.outside\n        },\n        attrs: {\n          'data-date': day.date,\n          'data-more': 1\n        },\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple != null ? this.eventRipple : true\n        }],\n        on: {\n          click: () => this.$emit('click:more', day)\n        },\n        style: {\n          display: 'none',\n          height: `${eventHeight}px`,\n          'margin-bottom': `${eventMarginBottom}px`\n        },\n        ref: 'events',\n        refInFor: true\n      });\n    },\n\n    getVisibleEvents() {\n      const start = getDayIdentifier(this.days[0]);\n      const end = getDayIdentifier(this.days[this.days.length - 1]);\n      return this.parsedEvents.filter(event => isEventOverlapping(event, start, end));\n    },\n\n    getEventsForDay(day) {\n      const identifier = getDayIdentifier(day);\n      const firstWeekday = this.eventWeekdays[0];\n      return this.parsedEvents.filter(event => isEventStart(event, day, identifier, firstWeekday));\n    },\n\n    getEventsForDayAll(day) {\n      const identifier = getDayIdentifier(day);\n      const firstWeekday = this.eventWeekdays[0];\n      return this.parsedEvents.filter(event => event.allDay && isEventStart(event, day, identifier, firstWeekday));\n    },\n\n    getEventsForDayTimed(day) {\n      const identifier = getDayIdentifier(day);\n      return this.parsedEvents.filter(event => !event.allDay && isEventOn(event, identifier));\n    },\n\n    getScopedSlots() {\n      if (this.noEvents) {\n        return { ...this.$scopedSlots\n        };\n      }\n\n      const mode = this.eventModeFunction(this.parsedEvents, this.eventWeekdays[0], this.parsedEventOverlapThreshold);\n\n      const getSlotChildren = (day, getter, mapper, timed) => {\n        const events = getter(day);\n\n        if (events.length === 0) {\n          return;\n        }\n\n        const visuals = mode(day, events, timed);\n\n        if (timed) {\n          return visuals.map(visual => mapper(visual, day));\n        }\n\n        const children = [];\n        visuals.forEach((visual, index) => {\n          while (children.length < visual.column) {\n            children.push(this.genPlaceholder(day));\n          }\n\n          children.push(mapper(visual, day));\n        });\n        return children;\n      };\n\n      const slots = this.$scopedSlots;\n      const slotDay = slots.day;\n      const slotDayHeader = slots['day-header'];\n      const slotDayBody = slots['day-body'];\n      return { ...slots,\n        day: day => {\n          let children = getSlotChildren(day, this.getEventsForDay, this.genDayEvent, false);\n\n          if (children && children.length > 0 && this.eventMore) {\n            children.push(this.genMore(day));\n          }\n\n          if (slotDay) {\n            const slot = slotDay(day);\n\n            if (slot) {\n              children = children ? children.concat(slot) : slot;\n            }\n          }\n\n          return children;\n        },\n        'day-header': day => {\n          let children = getSlotChildren(day, this.getEventsForDayAll, this.genDayEvent, false);\n\n          if (slotDayHeader) {\n            const slot = slotDayHeader(day);\n\n            if (slot) {\n              children = children ? children.concat(slot) : slot;\n            }\n          }\n\n          return children;\n        },\n        'day-body': day => {\n          const events = getSlotChildren(day, this.getEventsForDayTimed, this.genTimedEvent, true);\n          let children = [this.$createElement('div', {\n            staticClass: 'v-event-timed-container'\n          }, events)];\n\n          if (slotDayBody) {\n            const slot = slotDayBody(day);\n\n            if (slot) {\n              children = children.concat(slot);\n            }\n          }\n\n          return children;\n        }\n      };\n    }\n\n  }\n});\n//# sourceMappingURL=calendar-with-events.js.map"]}]}