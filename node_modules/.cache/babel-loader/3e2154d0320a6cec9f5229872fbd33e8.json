{"remainingRequest":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/dayspan-vuetify-2/src/components/Event.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/dayspan-vuetify-2/src/components/Event.vue","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Day, Calendar, CalendarEvent, Schedule, Functions as fn } from 'dayspan';\nexport default {\n  name: 'dsEvent',\n  props: {\n    targetSchedule: {\n      required: true,\n      type: Schedule\n    },\n    targetDetails: {\n      type: Object,\n      required: true\n    },\n    calendarEvent: {\n      type: CalendarEvent\n    },\n    calendar: {\n      type: Calendar\n    },\n    day: {\n      type: Day\n    },\n    readOnly: {\n      type: Boolean,\n      default: false\n    },\n    labels: {\n      validate: function validate(x) {\n        return this.$dsValidate(x, 'labels');\n      },\n      default: function _default() {\n        return this.$dsDefaults().labels;\n      }\n    },\n    hasTitle: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasTitle;\n      }\n    },\n    hasCancel: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasCancel;\n      }\n    },\n    hasSave: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasSave;\n      }\n    },\n    hasTabs: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasTabs;\n      }\n    },\n    hasDetails: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasDetails;\n      }\n    },\n    hasForecast: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasForecast;\n      }\n    },\n    hasExclusions: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasExclusions;\n      }\n    },\n    hasInclusions: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasInclusions;\n      }\n    },\n    hasCancelled: {\n      type: Boolean,\n      default: function _default() {\n        return this.$dsDefaults().hasCancelled;\n      }\n    },\n    busyOptions: {\n      type: Array,\n      default: function _default() {\n        return this.$dsDefaults().busyOptions;\n      }\n    }\n  },\n  data: function data(vm) {\n    return {\n      tab: 'details',\n      schedule: new Schedule(),\n      details: vm.$dayspan.getDefaultEventDetails()\n    };\n  },\n  watch: {\n    targetSchedule: {\n      handler: 'updateSchedule',\n      immediate: true\n    },\n    targetDetails: {\n      handler: 'updateDetails',\n      immediate: true\n    }\n  },\n  computed: {\n    slotData: function slotData() {\n      return {\n        targetSchedule: this.targetSchedule,\n        targetDetails: this.targetDetails,\n        schedule: this.schedule,\n        details: this.details,\n        busyOptions: this.busyOptions,\n        day: this.day,\n        calendar: this.calendar,\n        calendarEvent: this.calendarEvent,\n        labels: this.labels,\n        readOnly: this.readOnly\n      };\n    },\n    classes: function classes() {\n      return {\n        'ds-has-cancel': this.hasCancel,\n        'ds-event-small': this.$vuetify.breakpoint.smAndDown\n      };\n    },\n    canSave: function canSave() {\n      return this.$dayspan.isValidEvent(this.details, this.schedule, this.calenderEvent);\n    },\n    repeats: function repeats() {\n      return !this.schedule.isSingleEvent();\n    },\n    showTitle: function showTitle() {\n      return this.$dayspan.supports.title && this.hasTitle;\n    },\n    showCancels: function showCancels() {\n      return this.$dayspan.features.cancel && this.repeats && this.hasCancelled && !this.schedule.cancel.isEmpty();\n    },\n    showForecast: function showForecast() {\n      return this.$dayspan.features.forecast && this.repeats && this.hasForecast;\n    },\n    showExclusions: function showExclusions() {\n      return this.$dayspan.features.exclude && this.repeats && this.hasExclusions && !this.schedule.exclude.isEmpty();\n    },\n    showInclusions: function showInclusions() {\n      return this.$dayspan.features.include && this.repeats && this.hasInclusions && !this.schedule.include.isEmpty();\n    },\n    isReadOnly: function isReadOnly() {\n      return this.readOnly || this.$dayspan.readOnly;\n    }\n  },\n  methods: {\n    save: function save() {\n      var ev = this.getEvent('save');\n      this.$emit('save', ev);\n\n      if (!ev.handled) {\n        if (ev.target && ev.schedule) {\n          ev.target.set(ev.schedule);\n        }\n\n        if (ev.calendarEvent) {\n          this.$dayspan.setEventDetails(ev.details, ev.targetDetails, ev.calendarEvent.event, ev.calendarEvent);\n          this.$emit('update', ev);\n          this.$emit('event-update', ev.calendarEvent.event);\n        } else if (ev.create) {\n          ev.created = this.$dayspan.createEvent(ev.details, ev.schedule);\n\n          if (ev.calendar) {\n            ev.calendar.addEvent(ev.created);\n            ev.added = true;\n          }\n\n          this.$emit('create', ev);\n        }\n\n        if (ev.calendar && ev.refresh) {\n          ev.calendar.refreshEvents();\n        }\n\n        ev.handled = true;\n\n        if (ev.created) {\n          this.$emit('event-create', ev.created);\n        }\n      }\n\n      this.$emit('saved', ev);\n    },\n    actioned: function actioned(ev) {\n      this.$emit('actioned', ev);\n    },\n    cancel: function cancel() {\n      this.$emit('cancel', this.getEvent('cancel'));\n    },\n    updateSchedule: function updateSchedule(schedule) {\n      this.schedule = schedule.clone();\n      this.tab = 'details';\n    },\n    updateDetails: function updateDetails(details) {\n      this.details = this.$dayspan.copyEventDetails(details);\n      this.tab = 'details';\n    },\n    getEvent: function getEvent(type) {\n      var extra = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return fn.extend({\n        type: type,\n        day: this.day,\n        schedule: this.schedule,\n        target: this.targetSchedule,\n        details: this.details,\n        targetDetails: this.targetDetails,\n        calendar: this.calendar,\n        calendarEvent: this.calendarEvent,\n        handled: false,\n        refresh: true,\n        create: true,\n        added: false,\n        $vm: this,\n        $element: this.$el\n      }, extra);\n    }\n  }\n};",{"version":3,"sources":["Event.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n    <div class=\"ds-event\"\r\n         :class=\"classes\">\r\n\r\n        <div class=\"ds-event-header ds-event-area\">\r\n\r\n            <div class=\"ds-event-cancel\" v-if=\"hasCancel\">\r\n\r\n                <!-- Cancel -->\r\n                <slot name=\"scheduleCancel\" v-bind=\"{cancel, labels}\">\r\n\r\n                    <v-tooltip bottom>\r\n\r\n                        <template v-slot:activator=\"{ on }\">\r\n                            <v-btn v-on=\"on\" icon class=\"ds-button\" @click=\"cancel\">\r\n                                <v-icon dark>clear</v-icon>\r\n                            </v-btn>\r\n                        </template>\r\n                        <span v-html=\"labels.cancel\"></span>\r\n                    </v-tooltip>\r\n\r\n                </slot>\r\n\r\n            </div>\r\n\r\n            <div class=\"ds-event-actions\">\r\n\r\n                <!-- Save -->\r\n                <slot name=\"scheduleSave\" v-bind=\"{hasSave, save, labels, readOnly}\">\r\n\r\n                    <v-btn\r\n                            v-if=\"!isReadOnly\"\r\n                            class=\"ds-button-tall ml-3 mt-0 mb-2\" depressed\r\n                            color=\"primary\"\r\n                            :disabled=\"!canSave\"\r\n                            @click.stop=\"save\">\r\n\r\n                        <span v-html=\"labels.save\"></span>\r\n\r\n                    </v-btn>\r\n\r\n                </slot>\r\n\r\n                <!-- More Actions -->\r\n                <slot name=\"scheduleActions\" v-bind=\"{calendarEvent, schedule, calendar, actioned, readOnly}\">\r\n\r\n                    <ds-schedule-actions\r\n                            v-if=\"calendarEvent && !isReadOnly\"\r\n                            v-bind=\"{$scopedSlots}\"\r\n                            v-on=\"$listeners\"\r\n                            :schedule=\"schedule\"\r\n                            :calendar-event=\"calendarEvent\"\r\n                            :calendar=\"calendar\"\r\n                            @finish=\"actioned\">\r\n                        <v-btn class=\"ds-button-tall ml-1 mt-0 mb-2\" depressed>\r\n                            {{ labels.moreActions }}\r\n                        </v-btn>\r\n                    </ds-schedule-actions>\r\n\r\n                </slot>\r\n\r\n            </div>\r\n\r\n            <!-- Title -->\r\n            <slot name=\"scheduleTitle\" v-bind=\"{schedule, schedule, calendarEvent, details}\">\r\n\r\n                <!-- class=\"ds-textfield ds-calendar-event-title\" -->\r\n                <v-text-field single-line hide-details solo flat\r\n                              class=\"ds-event-title\"\r\n                              :label=\"labels.title\"\r\n                              :readonly=\"isReadOnly\"\r\n                              v-model=\"details.title\"\r\n                ></v-text-field>\r\n\r\n            </slot>\r\n\r\n        </div>\r\n\r\n        <div class=\"ds-event-body ds-event-area\">\r\n\r\n            <slot name=\"schedule\" v-bind=\"slotData\">\r\n\r\n                <ds-schedule\r\n                        :schedule=\"schedule\"\r\n                        :day=\"day\"\r\n                        :read-only=\"readOnly\"\r\n                ></ds-schedule>\r\n\r\n            </slot>\r\n\r\n        </div>\r\n\r\n        <!-- Tabs -->\r\n        <v-layout row v-if=\"hasTabs\">\r\n            <v-flex xs12 class=\"mt-2\">\r\n                <v-tabs class=\"text--primary\" v-model=\"tab\">\r\n\r\n                    <v-tab href=\"#details\" v-if=\"hasDetails\">\r\n                        {{ labels.tabs.details }}\r\n                    </v-tab>\r\n\r\n                    <v-tab href=\"#forecast\" v-if=\"showForecast\">\r\n                        {{ labels.tabs.forecast }}\r\n                    </v-tab>\r\n\r\n                    <v-tab href=\"#exclusions\" v-if=\"showExclusions\">\r\n                        {{ labels.tabs.removed }}\r\n                    </v-tab>\r\n\r\n                    <v-tab href=\"#inclusions\" v-if=\"showInclusions\">\r\n                        {{ labels.tabs.added }}\r\n                    </v-tab>\r\n\r\n                    <v-tab href=\"#cancelled\" v-if=\"showCancels\">\r\n                        {{ labels.tabs.cancelled }}\r\n                    </v-tab>\r\n\r\n                    <slot name=\"eventTabsExtra\" v-bind=\"slotData\"></slot>\r\n\r\n                    <!-- Details -->\r\n                    <v-tab-item value=\"details\" v-if=\"hasDetails\">\r\n                        <v-card flat>\r\n                            <v-card-text>\r\n\r\n                                <!-- Location -->\r\n                                <slot name=\"eventDetailsLocation\" v-bind=\"slotData\">\r\n                                    <v-text-field v-if=\"$dayspan.supports.location\"\r\n                                                  single-line hide-details solo flat\r\n                                                  prepend-icon=\"location_on\"\r\n                                                  :label=\"labels.location\"\r\n                                                  :readonly=\"isReadOnly\"\r\n                                                  v-model=\"details.location\"\r\n                                    ></v-text-field>\r\n                                </slot>\r\n\r\n                                <!-- Description -->\r\n                                <slot name=\"eventDetailsDescription\" v-bind=\"slotData\">\r\n                                    <v-textarea v-if=\"$dayspan.supports.description\"\r\n                                                hide-details single-line solo flat\r\n                                                prepend-icon=\"subject\"\r\n                                                :label=\"labels.description\"\r\n                                                :readonly=\"isReadOnly\"\r\n                                                v-model=\"details.description\"\r\n                                    ></v-textarea>\r\n                                </slot>\r\n\r\n                                <!-- Calendar -->\r\n                                <slot name=\"eventDetailsCalendar\" v-bind=\"slotData\">\r\n                                    <v-text-field v-if=\"$dayspan.supports.calendar\"\r\n                                                  single-line hide-details solo flat readonly\r\n                                                  prepend-icon=\"event\"\r\n                                                  :label=\"labels.calendar\"\r\n                                                  :readonly=\"isReadOnly\"\r\n                                                  v-model=\"details.calendar\"\r\n                                    ></v-text-field>\r\n                                </slot>\r\n\r\n                                <!-- Color -->\r\n                                <slot name=\"eventDetailsColor\" v-bind=\"slotData\">\r\n                                    <v-select v-if=\"$dayspan.supports.color\"\r\n                                              single-line hide-details solo flat\r\n                                              prepend-icon=\"invert_colors\"\r\n                                              :items=\"$dayspan.colors\"\r\n                                              :color=\"details.color\"\r\n                                              :disabled=\"isReadOnly\"\r\n                                              v-model=\"details.color\">\r\n                                        <template slot=\"item\" slot-scope=\"{ item }\">\r\n                                            <v-lis\r\n                                            <v-list-item-content>\r\n                                                <div class=\"ds-color-option\" :style=\"{backgroundColor: item.value}\" v-text=\"item.text\"></div>\r\n                                            </v-list-item-content>\r\n                                        </template>\r\n                                    </v-select>\r\n                                </slot>\r\n\r\n                                <!-- Icon -->\r\n                                <slot name=\"eventDetailsIcon\" v-bind=\"slotData\">\r\n                                    <v-select v-if=\"$dayspan.supports.icon\"\r\n                                              single-line hide-details solo flat\r\n                                              :prepend-icon=\"details.icon || 'help'\"\r\n                                              :items=\"$dayspan.icons\"\r\n                                              :disabled=\"isReadOnly\"\r\n                                              v-model=\"details.icon\">\r\n                                        <template slot=\"item\" slot-scope=\"{ item }\">\r\n                                            <v-list-item-avatar>\r\n                                                <v-icon>{{ item.value }}</v-icon>\r\n                                            </v-list-item-avatar>\r\n                                            <v-list-item-content>\r\n                                                {{ item.text }}\r\n                                            </v-list-item-content>\r\n                                        </template>\r\n                                    </v-select>\r\n                                </slot>\r\n\r\n                                <!-- Busy -->\r\n                                <slot name=\"eventDetailsBusy\" v-bind=\"slotData\">\r\n                                    <v-select v-if=\"$dayspan.supports.busy\"\r\n                                              single-line hide-details solo flat\r\n                                              prepend-icon=\"work\"\r\n                                              :items=\"busyOptions\"\r\n                                              :disabled=\"isReadOnly\"\r\n                                              v-model=\"details.busy\"\r\n                                    ></v-select>\r\n                                </slot>\r\n\r\n                                <slot name=\"eventDetailsExtra\" v-bind=\"slotData\"></slot>\r\n\r\n                            </v-card-text>\r\n                        </v-card>\r\n                    </v-tab-item>\r\n\r\n                    <!-- Forecast -->\r\n                    <v-tab-item value=\"forecast\" lazy v-if=\"showForecast\">\r\n                        <v-card flat>\r\n                            <v-card-text>\r\n                                <slot name=\"eventForecast\" v-bind=\"slotData\">\r\n\r\n                                    <ds-schedule-forecast\r\n                                            :schedule=\"schedule\"\r\n                                            :day=\"day\"\r\n                                            :read-only=\"readOnly\"\r\n                                    ></ds-schedule-forecast>\r\n\r\n                                </slot>\r\n                            </v-card-text>\r\n                        </v-card>\r\n                    </v-tab-item>\r\n\r\n                    <!-- Exclusions -->\r\n                    <v-tab-item value=\"exclusions\" lazy v-if=\"showExclusions\">\r\n                        <v-card flat>\r\n                            <v-card-text>\r\n                                <slot name=\"eventExclusions\" v-bind=\"slotData\">\r\n\r\n                                    <ds-schedule-modifier\r\n                                            :description=\"labels.exclusions\"\r\n                                            :modifier=\"schedule.exclude\"\r\n                                            :read-only=\"readOnly\"\r\n                                    ></ds-schedule-modifier>\r\n\r\n                                </slot>\r\n                            </v-card-text>\r\n                        </v-card>\r\n                    </v-tab-item>\r\n\r\n                    <!-- Inclusions -->\r\n                    <v-tab-item value=\"inclusions\" lazy v-if=\"showInclusions\">\r\n                        <v-card flat>\r\n                            <v-card-text>\r\n                                <slot name=\"eventInclusions\" v-bind=\"slotData\">\r\n\r\n                                    <ds-schedule-modifier\r\n                                            :description=\"labels.inclusions\"\r\n                                            :modifier=\"schedule.include\"\r\n                                            :read-only=\"readOnly\"\r\n                                    ></ds-schedule-modifier>\r\n\r\n                                </slot>\r\n                            </v-card-text>\r\n                        </v-card>\r\n                    </v-tab-item>\r\n\r\n                    <!-- Cancelled -->\r\n                    <v-tab-item value=\"cancelled\" lazy v-if=\"showCancels\">\r\n                        <v-card flat>\r\n                            <v-card-text>\r\n                                <slot name=\"eventCancels\" v-bind=\"slotData\">\r\n\r\n                                    <ds-schedule-modifier\r\n                                            :description=\"labels.cancelled\"\r\n                                            :modifier=\"schedule.cancel\"\r\n                                            :read-only=\"readOnly\"\r\n                                    ></ds-schedule-modifier>\r\n\r\n                                </slot>\r\n                            </v-card-text>\r\n                        </v-card>\r\n                    </v-tab-item>\r\n\r\n                    <slot name=\"eventTabItemsExtra\" v-bind=\"slotData\"></slot>\r\n\r\n                </v-tabs>\r\n            </v-flex>\r\n        </v-layout>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { Day, Calendar, CalendarEvent, Schedule, Functions as fn } from 'dayspan'\r\n\r\nexport default {\r\n\r\n    name: 'dsEvent',\r\n\r\n    props:\r\n        {\r\n            targetSchedule:\r\n                {\r\n                    required: true,\r\n                    type: Schedule\r\n                },\r\n\r\n            targetDetails:\r\n                {\r\n                    type: Object,\r\n                    required: true\r\n                },\r\n\r\n            calendarEvent:\r\n                {\r\n                    type: CalendarEvent\r\n                },\r\n\r\n            calendar:\r\n                {\r\n                    type: Calendar\r\n                },\r\n\r\n            day:\r\n                {\r\n                    type: Day\r\n                },\r\n\r\n            readOnly:\r\n                {\r\n                    type: Boolean,\r\n                    default: false\r\n                },\r\n\r\n            labels:\r\n                {\r\n                    validate (x) {\r\n                        return this.$dsValidate(x, 'labels')\r\n                    },\r\n                    default () {\r\n                        return this.$dsDefaults().labels\r\n                    }\r\n                },\r\n\r\n            hasTitle:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasTitle\r\n                    }\r\n                },\r\n\r\n            hasCancel:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasCancel\r\n                    }\r\n                },\r\n\r\n            hasSave:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasSave\r\n                    }\r\n                },\r\n\r\n            hasTabs:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasTabs\r\n                    }\r\n                },\r\n\r\n            hasDetails:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasDetails\r\n                    }\r\n                },\r\n\r\n            hasForecast:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasForecast\r\n                    }\r\n                },\r\n\r\n            hasExclusions:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasExclusions\r\n                    }\r\n                },\r\n\r\n            hasInclusions:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasInclusions\r\n                    }\r\n                },\r\n\r\n            hasCancelled:\r\n                {\r\n                    type: Boolean,\r\n                    default () {\r\n                        return this.$dsDefaults().hasCancelled\r\n                    }\r\n                },\r\n\r\n            busyOptions:\r\n                {\r\n                    type: Array,\r\n                    default () {\r\n                        return this.$dsDefaults().busyOptions\r\n                    }\r\n                }\r\n        },\r\n\r\n    data: vm => ({\r\n        tab: 'details',\r\n        schedule: new Schedule(),\r\n        details: vm.$dayspan.getDefaultEventDetails()\r\n    }),\r\n\r\n    watch:\r\n        {\r\n            targetSchedule:\r\n                {\r\n                    handler: 'updateSchedule',\r\n                    immediate: true\r\n                },\r\n\r\n            targetDetails:\r\n                {\r\n                    handler: 'updateDetails',\r\n                    immediate: true\r\n                }\r\n        },\r\n\r\n    computed:\r\n        {\r\n            slotData () {\r\n                return {\r\n                    targetSchedule: this.targetSchedule,\r\n                    targetDetails: this.targetDetails,\r\n                    schedule: this.schedule,\r\n                    details: this.details,\r\n                    busyOptions: this.busyOptions,\r\n                    day: this.day,\r\n                    calendar: this.calendar,\r\n                    calendarEvent: this.calendarEvent,\r\n                    labels: this.labels,\r\n                    readOnly: this.readOnly\r\n                }\r\n            },\r\n\r\n            classes () {\r\n                return {\r\n                    'ds-has-cancel': this.hasCancel,\r\n                    'ds-event-small': this.$vuetify.breakpoint.smAndDown\r\n                }\r\n            },\r\n\r\n            canSave () {\r\n                return this.$dayspan.isValidEvent(this.details, this.schedule, this.calenderEvent)\r\n            },\r\n\r\n            repeats () {\r\n                return !this.schedule.isSingleEvent()\r\n            },\r\n\r\n            showTitle () {\r\n                return this.$dayspan.supports.title &&\r\n                    this.hasTitle\r\n            },\r\n\r\n            showCancels () {\r\n                return this.$dayspan.features.cancel &&\r\n                    this.repeats &&\r\n                    this.hasCancelled &&\r\n                    !this.schedule.cancel.isEmpty()\r\n            },\r\n\r\n            showForecast () {\r\n                return this.$dayspan.features.forecast &&\r\n                    this.repeats &&\r\n                    this.hasForecast\r\n            },\r\n\r\n            showExclusions () {\r\n                return this.$dayspan.features.exclude &&\r\n                    this.repeats &&\r\n                    this.hasExclusions &&\r\n                    !this.schedule.exclude.isEmpty()\r\n            },\r\n\r\n            showInclusions () {\r\n                return this.$dayspan.features.include &&\r\n                    this.repeats &&\r\n                    this.hasInclusions &&\r\n                    !this.schedule.include.isEmpty()\r\n            },\r\n\r\n            isReadOnly () {\r\n                return this.readOnly || this.$dayspan.readOnly\r\n            }\r\n        },\r\n\r\n    methods:\r\n        {\r\n            save () {\r\n                var ev = this.getEvent('save')\r\n\r\n                this.$emit('save', ev)\r\n\r\n                if (!ev.handled) {\r\n                    if (ev.target && ev.schedule) {\r\n                        ev.target.set(ev.schedule)\r\n                    }\r\n\r\n                    if (ev.calendarEvent) {\r\n                        this.$dayspan.setEventDetails(\r\n                            ev.details,\r\n                            ev.targetDetails,\r\n                            ev.calendarEvent.event,\r\n                            ev.calendarEvent\r\n                        )\r\n\r\n                        this.$emit('update', ev)\r\n\r\n                        this.$emit('event-update', ev.calendarEvent.event)\r\n                    } else if (ev.create) {\r\n                        ev.created = this.$dayspan.createEvent(ev.details, ev.schedule)\r\n\r\n                        if (ev.calendar) {\r\n                            ev.calendar.addEvent(ev.created)\r\n                            ev.added = true\r\n                        }\r\n\r\n                        this.$emit('create', ev)\r\n                    }\r\n\r\n                    if (ev.calendar && ev.refresh) {\r\n                        ev.calendar.refreshEvents()\r\n                    }\r\n\r\n                    ev.handled = true\r\n\r\n                    if (ev.created) {\r\n                        this.$emit('event-create', ev.created)\r\n                    }\r\n                }\r\n\r\n                this.$emit('saved', ev)\r\n            },\r\n\r\n            actioned (ev) {\r\n                this.$emit('actioned', ev)\r\n            },\r\n\r\n            cancel () {\r\n                this.$emit('cancel', this.getEvent('cancel'))\r\n            },\r\n\r\n            updateSchedule (schedule) {\r\n                this.schedule = schedule.clone()\r\n                this.tab = 'details'\r\n            },\r\n\r\n            updateDetails (details) {\r\n                this.details = this.$dayspan.copyEventDetails(details)\r\n                this.tab = 'details'\r\n            },\r\n\r\n            getEvent (type, extra = {}) {\r\n                return fn.extend({\r\n\r\n                    type: type,\r\n                    day: this.day,\r\n                    schedule: this.schedule,\r\n                    target: this.targetSchedule,\r\n                    details: this.details,\r\n                    targetDetails: this.targetDetails,\r\n                    calendar: this.calendar,\r\n                    calendarEvent: this.calendarEvent,\r\n                    handled: false,\r\n                    refresh: true,\r\n                    create: true,\r\n                    added: false,\r\n                    $vm: this,\r\n                    $element: this.$el\r\n\r\n                }, extra)\r\n            }\r\n\r\n        }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n    .ds-calendar-event-title {\r\n        font-size: 18px;\r\n        padding-right: 8px;\r\n        padding-top: 4px;\r\n    }\r\n\r\n    .ds-color-option {\r\n        width: 100%;\r\n        color: white;\r\n        padding: 4px;\r\n    }\r\n\r\n    .ds-button-tall {\r\n        height: 48px;\r\n    }\r\n\r\n    .ds-event {\r\n\r\n        &.ds-has-cancel {\r\n\r\n            .ds-event-area {\r\n                margin-left: 60px;\r\n            }\r\n        }\r\n\r\n        &.ds-event-small {\r\n\r\n            &.ds-has-cancel {\r\n\r\n                .ds-event-area {\r\n                    margin-left: 0px;\r\n                }\r\n\r\n                .ds-event-header {\r\n                    margin-left: 60px;\r\n                    margin-bottom: 58px;\r\n                }\r\n            }\r\n\r\n            .ds-event-title {\r\n                position: absolute;\r\n                right: 8px;\r\n                left: -60px;\r\n                top: 60px;\r\n            }\r\n\r\n            .ds-event-body {\r\n                clear: both;\r\n            }\r\n        }\r\n\r\n        .ds-event-area {\r\n            position: relative;\r\n        }\r\n\r\n        .ds-event-actions {\r\n            float: right;\r\n\r\n            > * {\r\n                display: inline-block;\r\n            }\r\n        }\r\n\r\n        .ds-event-header {\r\n            min-height: 60px;\r\n        }\r\n\r\n        .ds-event-cancel {\r\n            position: absolute;\r\n            left: -60px;\r\n        }\r\n\r\n        .v-input {\r\n            margin-bottom: 8px;\r\n        }\r\n    }\r\n\r\n</style>\r\n"],"sourceRoot":"node_modules/dayspan-vuetify-2/src/components"}]}