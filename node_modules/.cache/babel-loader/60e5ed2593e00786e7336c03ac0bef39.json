{"remainingRequest":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VColorPicker/VColorPickerCanvas.js","dependencies":[{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VColorPicker/VColorPickerCanvas.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n// Styles\nimport \"../../../src/components/VColorPicker/VColorPickerCanvas.sass\"; // Helpers\n\nimport { clamp, convertToUnit } from \"../../util/helpers\";\nimport { fromHSVA, fromRGBA } from \"./util\"; // Types\n\nimport Vue from 'vue';\nexport default Vue.extend({\n  name: 'v-color-picker-canvas',\n  props: {\n    color: {\n      type: Object,\n      default: function _default() {\n        return fromRGBA({\n          r: 255,\n          g: 0,\n          b: 0,\n          a: 1\n        });\n      }\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10\n    },\n    height: {\n      type: [Number, String],\n      default: 150\n    },\n    width: {\n      type: [Number, String],\n      default: 300\n    }\n  },\n  data: function data() {\n    return {\n      boundingRect: {\n        width: 0,\n        height: 0,\n        left: 0,\n        top: 0\n      }\n    };\n  },\n  computed: {\n    dot: function dot() {\n      if (!this.color) return {\n        x: 0,\n        y: 0\n      };\n      return {\n        x: this.color.hsva.s * parseInt(this.width, 10),\n        y: (1 - this.color.hsva.v) * parseInt(this.height, 10)\n      };\n    }\n  },\n  watch: {\n    'color.hue': 'updateCanvas'\n  },\n  mounted: function mounted() {\n    this.updateCanvas();\n  },\n  methods: {\n    emitColor: function emitColor(x, y) {\n      var _this$boundingRect = this.boundingRect,\n          left = _this$boundingRect.left,\n          top = _this$boundingRect.top,\n          width = _this$boundingRect.width,\n          height = _this$boundingRect.height;\n      this.$emit('update:color', fromHSVA({\n        h: this.color.hue,\n        s: clamp(x - left, 0, width) / width,\n        v: 1 - clamp(y - top, 0, height) / height,\n        a: this.color.alpha\n      }));\n    },\n    updateCanvas: function updateCanvas() {\n      if (!this.color) return;\n      var canvas = this.$refs.canvas;\n      var ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      var saturationGradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\n      saturationGradient.addColorStop(0, 'hsla(0, 0%, 100%, 1)'); // white\n\n      saturationGradient.addColorStop(1, \"hsla(\".concat(this.color.hue, \", 100%, 50%, 1)\"));\n      ctx.fillStyle = saturationGradient;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      var valueGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n      valueGradient.addColorStop(0, 'hsla(0, 0%, 100%, 0)'); // transparent\n\n      valueGradient.addColorStop(1, 'hsla(0, 0%, 0%, 1)'); // black\n\n      ctx.fillStyle = valueGradient;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    },\n    handleClick: function handleClick(e) {\n      if (this.disabled) return;\n      this.boundingRect = this.$el.getBoundingClientRect();\n      this.emitColor(e.clientX, e.clientY);\n    },\n    handleMouseDown: function handleMouseDown(e) {\n      // To prevent selection while moving cursor\n      e.preventDefault();\n      if (this.disabled) return;\n      this.boundingRect = this.$el.getBoundingClientRect();\n      window.addEventListener('mousemove', this.handleMouseMove);\n      window.addEventListener('mouseup', this.handleMouseUp);\n    },\n    handleMouseMove: function handleMouseMove(e) {\n      if (this.disabled) return;\n      this.emitColor(e.clientX, e.clientY);\n    },\n    handleMouseUp: function handleMouseUp() {\n      window.removeEventListener('mousemove', this.handleMouseMove);\n      window.removeEventListener('mouseup', this.handleMouseUp);\n    },\n    genCanvas: function genCanvas() {\n      return this.$createElement('canvas', {\n        ref: 'canvas',\n        attrs: {\n          width: this.width,\n          height: this.height\n        }\n      });\n    },\n    genDot: function genDot() {\n      var radius = parseInt(this.dotSize, 10) / 2;\n      var x = convertToUnit(this.dot.x - radius);\n      var y = convertToUnit(this.dot.y - radius);\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__canvas-dot',\n        class: {\n          'v-color-picker__canvas-dot--disabled': this.disabled\n        },\n        style: {\n          width: convertToUnit(this.dotSize),\n          height: convertToUnit(this.dotSize),\n          transform: \"translate(\".concat(x, \", \").concat(y, \")\")\n        }\n      });\n    }\n  },\n  render: function render(h) {\n    return h('div', {\n      staticClass: 'v-color-picker__canvas',\n      style: {\n        width: convertToUnit(this.width),\n        height: convertToUnit(this.height)\n      },\n      on: {\n        click: this.handleClick,\n        mousedown: this.handleMouseDown\n      }\n    }, [this.genCanvas(), this.genDot()]);\n  }\n});",{"version":3,"sources":["/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VColorPicker/VColorPickerCanvas.js"],"names":["clamp","convertToUnit","fromHSVA","fromRGBA","Vue","extend","name","props","color","type","Object","default","r","g","b","a","disabled","Boolean","dotSize","Number","String","height","width","data","boundingRect","left","top","computed","dot","x","y","hsva","s","parseInt","v","watch","mounted","updateCanvas","methods","emitColor","$emit","h","hue","alpha","canvas","$refs","ctx","getContext","saturationGradient","createLinearGradient","addColorStop","fillStyle","fillRect","valueGradient","handleClick","e","$el","getBoundingClientRect","clientX","clientY","handleMouseDown","preventDefault","window","addEventListener","handleMouseMove","handleMouseUp","removeEventListener","genCanvas","$createElement","ref","attrs","genDot","radius","staticClass","class","style","transform","render","on","click","mousedown"],"mappings":"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","sourcesContent":["// Styles\nimport \"../../../src/components/VColorPicker/VColorPickerCanvas.sass\"; // Helpers\n\nimport { clamp, convertToUnit } from '../../util/helpers';\nimport { fromHSVA, fromRGBA } from './util'; // Types\n\nimport Vue from 'vue';\nexport default Vue.extend({\n  name: 'v-color-picker-canvas',\n  props: {\n    color: {\n      type: Object,\n      default: () => fromRGBA({\n        r: 255,\n        g: 0,\n        b: 0,\n        a: 1\n      })\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10\n    },\n    height: {\n      type: [Number, String],\n      default: 150\n    },\n    width: {\n      type: [Number, String],\n      default: 300\n    }\n  },\n\n  data() {\n    return {\n      boundingRect: {\n        width: 0,\n        height: 0,\n        left: 0,\n        top: 0\n      }\n    };\n  },\n\n  computed: {\n    dot() {\n      if (!this.color) return {\n        x: 0,\n        y: 0\n      };\n      return {\n        x: this.color.hsva.s * parseInt(this.width, 10),\n        y: (1 - this.color.hsva.v) * parseInt(this.height, 10)\n      };\n    }\n\n  },\n  watch: {\n    'color.hue': 'updateCanvas'\n  },\n\n  mounted() {\n    this.updateCanvas();\n  },\n\n  methods: {\n    emitColor(x, y) {\n      const {\n        left,\n        top,\n        width,\n        height\n      } = this.boundingRect;\n      this.$emit('update:color', fromHSVA({\n        h: this.color.hue,\n        s: clamp(x - left, 0, width) / width,\n        v: 1 - clamp(y - top, 0, height) / height,\n        a: this.color.alpha\n      }));\n    },\n\n    updateCanvas() {\n      if (!this.color) return;\n      const canvas = this.$refs.canvas;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      const saturationGradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\n      saturationGradient.addColorStop(0, 'hsla(0, 0%, 100%, 1)'); // white\n\n      saturationGradient.addColorStop(1, `hsla(${this.color.hue}, 100%, 50%, 1)`);\n      ctx.fillStyle = saturationGradient;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      const valueGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n      valueGradient.addColorStop(0, 'hsla(0, 0%, 100%, 0)'); // transparent\n\n      valueGradient.addColorStop(1, 'hsla(0, 0%, 0%, 1)'); // black\n\n      ctx.fillStyle = valueGradient;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    },\n\n    handleClick(e) {\n      if (this.disabled) return;\n      this.boundingRect = this.$el.getBoundingClientRect();\n      this.emitColor(e.clientX, e.clientY);\n    },\n\n    handleMouseDown(e) {\n      // To prevent selection while moving cursor\n      e.preventDefault();\n      if (this.disabled) return;\n      this.boundingRect = this.$el.getBoundingClientRect();\n      window.addEventListener('mousemove', this.handleMouseMove);\n      window.addEventListener('mouseup', this.handleMouseUp);\n    },\n\n    handleMouseMove(e) {\n      if (this.disabled) return;\n      this.emitColor(e.clientX, e.clientY);\n    },\n\n    handleMouseUp() {\n      window.removeEventListener('mousemove', this.handleMouseMove);\n      window.removeEventListener('mouseup', this.handleMouseUp);\n    },\n\n    genCanvas() {\n      return this.$createElement('canvas', {\n        ref: 'canvas',\n        attrs: {\n          width: this.width,\n          height: this.height\n        }\n      });\n    },\n\n    genDot() {\n      const radius = parseInt(this.dotSize, 10) / 2;\n      const x = convertToUnit(this.dot.x - radius);\n      const y = convertToUnit(this.dot.y - radius);\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__canvas-dot',\n        class: {\n          'v-color-picker__canvas-dot--disabled': this.disabled\n        },\n        style: {\n          width: convertToUnit(this.dotSize),\n          height: convertToUnit(this.dotSize),\n          transform: `translate(${x}, ${y})`\n        }\n      });\n    }\n\n  },\n\n  render(h) {\n    return h('div', {\n      staticClass: 'v-color-picker__canvas',\n      style: {\n        width: convertToUnit(this.width),\n        height: convertToUnit(this.height)\n      },\n      on: {\n        click: this.handleClick,\n        mousedown: this.handleMouseDown\n      }\n    }, [this.genCanvas(), this.genDot()]);\n  }\n\n});\n//# sourceMappingURL=VColorPickerCanvas.js.map"]}]}