{"remainingRequest":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VCalendar/util/timestamp.js","dependencies":[{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VCalendar/util/timestamp.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport { isLeapYear } from \"../../../util/dateTimeUtils\";\nexport var PARSE_REGEX = /^(\\d{4})-(\\d{1,2})(-(\\d{1,2}))?([^\\d]+(\\d{1,2}))?(:(\\d{1,2}))?(:(\\d{1,2}))?$/;\nexport var PARSE_TIME = /(\\d\\d?)(:(\\d\\d?)|)(:(\\d\\d?)|)/;\nexport var DAYS_IN_MONTH = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nexport var DAYS_IN_MONTH_LEAP = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nexport var DAYS_IN_MONTH_MIN = 28;\nexport var DAYS_IN_MONTH_MAX = 31;\nexport var MONTH_MAX = 12;\nexport var MONTH_MIN = 1;\nexport var DAY_MIN = 1;\nexport var DAYS_IN_WEEK = 7;\nexport var MINUTES_IN_HOUR = 60;\nexport var HOURS_IN_DAY = 24;\nexport var FIRST_HOUR = 0;\nexport var OFFSET_YEAR = 10000;\nexport var OFFSET_MONTH = 100;\nexport var OFFSET_HOUR = 100;\nexport var OFFSET_TIME = 10000;\nexport function getStartOfWeek(timestamp, weekdays, today) {\n  var start = copyTimestamp(timestamp);\n  findWeekday(start, weekdays[0], prevDay);\n  updateFormatted(start);\n\n  if (today) {\n    updateRelative(start, today, start.hasTime);\n  }\n\n  return start;\n}\nexport function getEndOfWeek(timestamp, weekdays, today) {\n  var end = copyTimestamp(timestamp);\n  findWeekday(end, weekdays[weekdays.length - 1]);\n  updateFormatted(end);\n\n  if (today) {\n    updateRelative(end, today, end.hasTime);\n  }\n\n  return end;\n}\nexport function getStartOfMonth(timestamp) {\n  var start = copyTimestamp(timestamp);\n  start.day = DAY_MIN;\n  updateWeekday(start);\n  updateFormatted(start);\n  return start;\n}\nexport function getEndOfMonth(timestamp) {\n  var end = copyTimestamp(timestamp);\n  end.day = daysInMonth(end.year, end.month);\n  updateWeekday(end);\n  updateFormatted(end);\n  return end;\n}\nexport function parseTime(input) {\n  if (typeof input === 'number') {\n    // when a number is given, it's minutes since 12:00am\n    return input;\n  } else if (typeof input === 'string') {\n    // when a string is given, it's a hh:mm:ss format where seconds are optional\n    var parts = PARSE_TIME.exec(input);\n\n    if (!parts) {\n      return false;\n    }\n\n    return parseInt(parts[1]) * 60 + parseInt(parts[3] || 0);\n  } else if (_typeof(input) === 'object') {\n    // when an object is given, it must have hour and minute\n    if (typeof input.hour !== 'number' || typeof input.minute !== 'number') {\n      return false;\n    }\n\n    return input.hour * 60 + input.minute;\n  } else {\n    // unsupported type\n    return false;\n  }\n}\nexport function validateTimestamp(input) {\n  return !!PARSE_REGEX.exec(input);\n}\nexport function parseTimestamp(input) {\n  var required = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var now = arguments.length > 2 ? arguments[2] : undefined;\n  // YYYY-MM-DD hh:mm:ss\n  var parts = PARSE_REGEX.exec(input);\n\n  if (!parts) {\n    if (required) {\n      throw new Error(\"\".concat(input, \" is not a valid timestamp. It must be in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.\"));\n    }\n\n    return null;\n  }\n\n  var timestamp = {\n    date: input,\n    time: '',\n    year: parseInt(parts[1]),\n    month: parseInt(parts[2]),\n    day: parseInt(parts[4]) || 1,\n    hour: parseInt(parts[6]) || 0,\n    minute: parseInt(parts[8]) || 0,\n    weekday: 0,\n    hasDay: !!parts[4],\n    hasTime: !!(parts[6] && parts[8]),\n    past: false,\n    present: false,\n    future: false\n  };\n  updateWeekday(timestamp);\n  updateFormatted(timestamp);\n\n  if (now) {\n    updateRelative(timestamp, now, timestamp.hasTime);\n  }\n\n  return timestamp;\n}\nexport function parseDate(date) {\n  return updateFormatted({\n    date: '',\n    time: '',\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate(),\n    weekday: date.getDay(),\n    hour: date.getHours(),\n    minute: date.getMinutes(),\n    hasDay: true,\n    hasTime: true,\n    past: false,\n    present: true,\n    future: false\n  });\n}\nexport function getDayIdentifier(timestamp) {\n  return timestamp.year * OFFSET_YEAR + timestamp.month * OFFSET_MONTH + timestamp.day;\n}\nexport function getTimeIdentifier(timestamp) {\n  return timestamp.hour * OFFSET_HOUR + timestamp.minute;\n}\nexport function getTimestampIdentifier(timestamp) {\n  return getDayIdentifier(timestamp) * OFFSET_TIME + getTimeIdentifier(timestamp);\n}\nexport function updateRelative(timestamp, now) {\n  var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var a = getDayIdentifier(now);\n  var b = getDayIdentifier(timestamp);\n  var present = a === b;\n\n  if (timestamp.hasTime && time && present) {\n    a = getTimeIdentifier(now);\n    b = getTimeIdentifier(timestamp);\n    present = a === b;\n  }\n\n  timestamp.past = b < a;\n  timestamp.present = present;\n  timestamp.future = b > a;\n  return timestamp;\n}\nexport function updateMinutes(timestamp, minutes, now) {\n  timestamp.hasTime = true;\n  timestamp.hour = Math.floor(minutes / MINUTES_IN_HOUR);\n  timestamp.minute = minutes % MINUTES_IN_HOUR;\n  timestamp.time = getTime(timestamp);\n\n  if (now) {\n    updateRelative(timestamp, now, true);\n  }\n\n  return timestamp;\n}\nexport function updateWeekday(timestamp) {\n  timestamp.weekday = getWeekday(timestamp);\n  return timestamp;\n}\nexport function updateFormatted(timestamp) {\n  timestamp.time = getTime(timestamp);\n  timestamp.date = getDate(timestamp);\n  return timestamp;\n}\nexport function getWeekday(timestamp) {\n  if (timestamp.hasDay) {\n    var _ = Math.floor;\n    var k = timestamp.day;\n    var m = (timestamp.month + 9) % MONTH_MAX + 1;\n\n    var C = _(timestamp.year / 100);\n\n    var Y = timestamp.year % 100 - (timestamp.month <= 2 ? 1 : 0);\n    return ((k + _(2.6 * m - 0.2) - 2 * C + Y + _(Y / 4) + _(C / 4)) % 7 + 7) % 7;\n  }\n\n  return timestamp.weekday;\n}\nexport function daysInMonth(year, month) {\n  return isLeapYear(year) ? DAYS_IN_MONTH_LEAP[month] : DAYS_IN_MONTH[month];\n}\nexport function copyTimestamp(timestamp) {\n  var date = timestamp.date,\n      time = timestamp.time,\n      year = timestamp.year,\n      month = timestamp.month,\n      day = timestamp.day,\n      weekday = timestamp.weekday,\n      hour = timestamp.hour,\n      minute = timestamp.minute,\n      hasDay = timestamp.hasDay,\n      hasTime = timestamp.hasTime,\n      past = timestamp.past,\n      present = timestamp.present,\n      future = timestamp.future;\n  return {\n    date: date,\n    time: time,\n    year: year,\n    month: month,\n    day: day,\n    weekday: weekday,\n    hour: hour,\n    minute: minute,\n    hasDay: hasDay,\n    hasTime: hasTime,\n    past: past,\n    present: present,\n    future: future\n  };\n}\nexport function padNumber(x, length) {\n  var padded = String(x);\n\n  while (padded.length < length) {\n    padded = '0' + padded;\n  }\n\n  return padded;\n}\nexport function getDate(timestamp) {\n  var str = \"\".concat(padNumber(timestamp.year, 4), \"-\").concat(padNumber(timestamp.month, 2));\n  if (timestamp.hasDay) str += \"-\".concat(padNumber(timestamp.day, 2));\n  return str;\n}\nexport function getTime(timestamp) {\n  if (!timestamp.hasTime) {\n    return '';\n  }\n\n  return \"\".concat(padNumber(timestamp.hour, 2), \":\").concat(padNumber(timestamp.minute, 2));\n}\nexport function nextMinutes(timestamp, minutes) {\n  timestamp.minute += minutes;\n\n  while (timestamp.minute > MINUTES_IN_HOUR) {\n    timestamp.minute -= MINUTES_IN_HOUR;\n    timestamp.hour++;\n\n    if (timestamp.hour >= HOURS_IN_DAY) {\n      nextDay(timestamp);\n      timestamp.hour = FIRST_HOUR;\n    }\n  }\n\n  return timestamp;\n}\nexport function nextDay(timestamp) {\n  timestamp.day++;\n  timestamp.weekday = (timestamp.weekday + 1) % DAYS_IN_WEEK;\n\n  if (timestamp.day > DAYS_IN_MONTH_MIN && timestamp.day > daysInMonth(timestamp.year, timestamp.month)) {\n    timestamp.day = DAY_MIN;\n    timestamp.month++;\n\n    if (timestamp.month > MONTH_MAX) {\n      timestamp.month = MONTH_MIN;\n      timestamp.year++;\n    }\n  }\n\n  return timestamp;\n}\nexport function prevDay(timestamp) {\n  timestamp.day--;\n  timestamp.weekday = (timestamp.weekday + 6) % DAYS_IN_WEEK;\n\n  if (timestamp.day < DAY_MIN) {\n    timestamp.month--;\n\n    if (timestamp.month < MONTH_MIN) {\n      timestamp.year--;\n      timestamp.month = MONTH_MAX;\n    }\n\n    timestamp.day = daysInMonth(timestamp.year, timestamp.month);\n  }\n\n  return timestamp;\n}\nexport function relativeDays(timestamp) {\n  var mover = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : nextDay;\n  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  while (--days >= 0) {\n    mover(timestamp);\n  }\n\n  return timestamp;\n}\nexport function diffMinutes(min, max) {\n  var Y = (max.year - min.year) * 525600;\n  var M = (max.month - min.month) * 43800;\n  var D = (max.day - min.day) * 1440;\n  var h = (max.hour - min.hour) * 60;\n  var m = max.minute - min.minute;\n  return Y + M + D + h + m;\n}\nexport function findWeekday(timestamp, weekday) {\n  var mover = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : nextDay;\n  var maxDays = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 6;\n\n  while (timestamp.weekday !== weekday && --maxDays >= 0) {\n    mover(timestamp);\n  }\n\n  return timestamp;\n}\nexport function getWeekdaySkips(weekdays) {\n  var skips = [1, 1, 1, 1, 1, 1, 1];\n  var filled = [0, 0, 0, 0, 0, 0, 0];\n\n  for (var i = 0; i < weekdays.length; i++) {\n    filled[weekdays[i]] = 1;\n  }\n\n  for (var k = 0; k < DAYS_IN_WEEK; k++) {\n    var skip = 1;\n\n    for (var j = 1; j < DAYS_IN_WEEK; j++) {\n      var next = (k + j) % DAYS_IN_WEEK;\n\n      if (filled[next]) {\n        break;\n      }\n\n      skip++;\n    }\n\n    skips[k] = filled[k] * skip;\n  }\n\n  return skips;\n}\nexport function createDayList(start, end, now, weekdaySkips) {\n  var max = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 42;\n  var min = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  var stop = getDayIdentifier(end);\n  var days = [];\n  var current = copyTimestamp(start);\n  var currentIdentifier = 0;\n  var stopped = currentIdentifier === stop;\n\n  if (stop < getDayIdentifier(start)) {\n    throw new Error('End date is earlier than start date.');\n  }\n\n  while ((!stopped || days.length < min) && days.length < max) {\n    currentIdentifier = getDayIdentifier(current);\n    stopped = stopped || currentIdentifier === stop;\n\n    if (weekdaySkips[current.weekday] === 0) {\n      current = nextDay(current);\n      continue;\n    }\n\n    var day = copyTimestamp(current);\n    updateFormatted(day);\n    updateRelative(day, now);\n    days.push(day);\n    current = relativeDays(current, nextDay, weekdaySkips[current.weekday]);\n  }\n\n  if (!days.length) throw new Error('No dates found using specified start date, end date, and weekdays.');\n  return days;\n}\nexport function createIntervalList(timestamp, first, minutes, count, now) {\n  var intervals = [];\n\n  for (var i = 0; i < count; i++) {\n    var mins = (first + i) * minutes;\n    var int = copyTimestamp(timestamp);\n    intervals.push(updateMinutes(int, mins, now));\n  }\n\n  return intervals;\n}\nexport function createNativeLocaleFormatter(locale, getOptions) {\n  var emptyFormatter = function emptyFormatter(_t, _s) {\n    return '';\n  };\n\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return emptyFormatter;\n  }\n\n  return function (timestamp, short) {\n    try {\n      var intlFormatter = new Intl.DateTimeFormat(locale || undefined, getOptions(timestamp, short));\n      var time = \"\".concat(padNumber(timestamp.hour, 2), \":\").concat(padNumber(timestamp.minute, 2));\n      var date = timestamp.date;\n      return intlFormatter.format(new Date(\"\".concat(date, \"T\").concat(time, \":00+00:00\")));\n    } catch (e) {\n      return '';\n    }\n  };\n}",{"version":3,"sources":["/Volumes/Disk1/work/work/mindlogger/mindlogger-applet-library/node_modules/vuetify/lib/components/VCalendar/util/timestamp.js"],"names":["isLeapYear","PARSE_REGEX","PARSE_TIME","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP","DAYS_IN_MONTH_MIN","DAYS_IN_MONTH_MAX","MONTH_MAX","MONTH_MIN","DAY_MIN","DAYS_IN_WEEK","MINUTES_IN_HOUR","HOURS_IN_DAY","FIRST_HOUR","OFFSET_YEAR","OFFSET_MONTH","OFFSET_HOUR","OFFSET_TIME","getStartOfWeek","timestamp","weekdays","today","start","copyTimestamp","findWeekday","prevDay","updateFormatted","updateRelative","hasTime","getEndOfWeek","end","length","getStartOfMonth","day","updateWeekday","getEndOfMonth","daysInMonth","year","month","parseTime","input","parts","exec","parseInt","hour","minute","validateTimestamp","parseTimestamp","required","now","Error","date","time","weekday","hasDay","past","present","future","parseDate","getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getDayIdentifier","getTimeIdentifier","getTimestampIdentifier","a","b","updateMinutes","minutes","Math","floor","getTime","getWeekday","_","k","m","C","Y","padNumber","x","padded","String","str","nextMinutes","nextDay","relativeDays","mover","days","diffMinutes","min","max","M","D","h","maxDays","getWeekdaySkips","skips","filled","i","skip","j","next","createDayList","weekdaySkips","stop","current","currentIdentifier","stopped","push","createIntervalList","first","count","intervals","mins","int","createNativeLocaleFormatter","locale","getOptions","emptyFormatter","_t","_s","Intl","DateTimeFormat","short","intlFormatter","undefined","format","Date","e"],"mappings":";AAAA,SAASA,UAAT;AACA,OAAO,IAAMC,WAAW,GAAG,8EAApB;AACP,OAAO,IAAMC,UAAU,GAAG,+BAAnB;AACP,OAAO,IAAMC,aAAa,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,CAAtB;AACP,OAAO,IAAMC,kBAAkB,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,CAA3B;AACP,OAAO,IAAMC,iBAAiB,GAAG,EAA1B;AACP,OAAO,IAAMC,iBAAiB,GAAG,EAA1B;AACP,OAAO,IAAMC,SAAS,GAAG,EAAlB;AACP,OAAO,IAAMC,SAAS,GAAG,CAAlB;AACP,OAAO,IAAMC,OAAO,GAAG,CAAhB;AACP,OAAO,IAAMC,YAAY,GAAG,CAArB;AACP,OAAO,IAAMC,eAAe,GAAG,EAAxB;AACP,OAAO,IAAMC,YAAY,GAAG,EAArB;AACP,OAAO,IAAMC,UAAU,GAAG,CAAnB;AACP,OAAO,IAAMC,WAAW,GAAG,KAApB;AACP,OAAO,IAAMC,YAAY,GAAG,GAArB;AACP,OAAO,IAAMC,WAAW,GAAG,GAApB;AACP,OAAO,IAAMC,WAAW,GAAG,KAApB;AACP,OAAO,SAASC,cAAT,CAAwBC,SAAxB,EAAmCC,QAAnC,EAA6CC,KAA7C,EAAoD;AACzD,MAAMC,KAAK,GAAGC,aAAa,CAACJ,SAAD,CAA3B;AACAK,EAAAA,WAAW,CAACF,KAAD,EAAQF,QAAQ,CAAC,CAAD,CAAhB,EAAqBK,OAArB,CAAX;AACAC,EAAAA,eAAe,CAACJ,KAAD,CAAf;;AAEA,MAAID,KAAJ,EAAW;AACTM,IAAAA,cAAc,CAACL,KAAD,EAAQD,KAAR,EAAeC,KAAK,CAACM,OAArB,CAAd;AACD;;AAED,SAAON,KAAP;AACD;AACD,OAAO,SAASO,YAAT,CAAsBV,SAAtB,EAAiCC,QAAjC,EAA2CC,KAA3C,EAAkD;AACvD,MAAMS,GAAG,GAAGP,aAAa,CAACJ,SAAD,CAAzB;AACAK,EAAAA,WAAW,CAACM,GAAD,EAAMV,QAAQ,CAACA,QAAQ,CAACW,MAAT,GAAkB,CAAnB,CAAd,CAAX;AACAL,EAAAA,eAAe,CAACI,GAAD,CAAf;;AAEA,MAAIT,KAAJ,EAAW;AACTM,IAAAA,cAAc,CAACG,GAAD,EAAMT,KAAN,EAAaS,GAAG,CAACF,OAAjB,CAAd;AACD;;AAED,SAAOE,GAAP;AACD;AACD,OAAO,SAASE,eAAT,CAAyBb,SAAzB,EAAoC;AACzC,MAAMG,KAAK,GAAGC,aAAa,CAACJ,SAAD,CAA3B;AACAG,EAAAA,KAAK,CAACW,GAAN,GAAYxB,OAAZ;AACAyB,EAAAA,aAAa,CAACZ,KAAD,CAAb;AACAI,EAAAA,eAAe,CAACJ,KAAD,CAAf;AACA,SAAOA,KAAP;AACD;AACD,OAAO,SAASa,aAAT,CAAuBhB,SAAvB,EAAkC;AACvC,MAAMW,GAAG,GAAGP,aAAa,CAACJ,SAAD,CAAzB;AACAW,EAAAA,GAAG,CAACG,GAAJ,GAAUG,WAAW,CAACN,GAAG,CAACO,IAAL,EAAWP,GAAG,CAACQ,KAAf,CAArB;AACAJ,EAAAA,aAAa,CAACJ,GAAD,CAAb;AACAJ,EAAAA,eAAe,CAACI,GAAD,CAAf;AACA,SAAOA,GAAP;AACD;AACD,OAAO,SAASS,SAAT,CAAmBC,KAAnB,EAA0B;AAC/B,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B;AACA,WAAOA,KAAP;AACD,GAHD,MAGO,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AACpC;AACA,QAAMC,KAAK,GAAGvC,UAAU,CAACwC,IAAX,CAAgBF,KAAhB,CAAd;;AAEA,QAAI,CAACC,KAAL,EAAY;AACV,aAAO,KAAP;AACD;;AAED,WAAOE,QAAQ,CAACF,KAAK,CAAC,CAAD,CAAN,CAAR,GAAqB,EAArB,GAA0BE,QAAQ,CAACF,KAAK,CAAC,CAAD,CAAL,IAAY,CAAb,CAAzC;AACD,GATM,MASA,IAAI,QAAOD,KAAP,MAAiB,QAArB,EAA+B;AACpC;AACA,QAAI,OAAOA,KAAK,CAACI,IAAb,KAAsB,QAAtB,IAAkC,OAAOJ,KAAK,CAACK,MAAb,KAAwB,QAA9D,EAAwE;AACtE,aAAO,KAAP;AACD;;AAED,WAAOL,KAAK,CAACI,IAAN,GAAa,EAAb,GAAkBJ,KAAK,CAACK,MAA/B;AACD,GAPM,MAOA;AACL;AACA,WAAO,KAAP;AACD;AACF;AACD,OAAO,SAASC,iBAAT,CAA2BN,KAA3B,EAAkC;AACvC,SAAO,CAAC,CAACvC,WAAW,CAACyC,IAAZ,CAAiBF,KAAjB,CAAT;AACD;AACD,OAAO,SAASO,cAAT,CAAwBP,KAAxB,EAAsD;AAAA,MAAvBQ,QAAuB,uEAAZ,KAAY;AAAA,MAALC,GAAK;AAC3D;AACA,MAAMR,KAAK,GAAGxC,WAAW,CAACyC,IAAZ,CAAiBF,KAAjB,CAAd;;AAEA,MAAI,CAACC,KAAL,EAAY;AACV,QAAIO,QAAJ,EAAc;AACZ,YAAM,IAAIE,KAAJ,WAAaV,KAAb,8IAAN;AACD;;AAED,WAAO,IAAP;AACD;;AAED,MAAMrB,SAAS,GAAG;AAChBgC,IAAAA,IAAI,EAAEX,KADU;AAEhBY,IAAAA,IAAI,EAAE,EAFU;AAGhBf,IAAAA,IAAI,EAAEM,QAAQ,CAACF,KAAK,CAAC,CAAD,CAAN,CAHE;AAIhBH,IAAAA,KAAK,EAAEK,QAAQ,CAACF,KAAK,CAAC,CAAD,CAAN,CAJC;AAKhBR,IAAAA,GAAG,EAAEU,QAAQ,CAACF,KAAK,CAAC,CAAD,CAAN,CAAR,IAAsB,CALX;AAMhBG,IAAAA,IAAI,EAAED,QAAQ,CAACF,KAAK,CAAC,CAAD,CAAN,CAAR,IAAsB,CANZ;AAOhBI,IAAAA,MAAM,EAAEF,QAAQ,CAACF,KAAK,CAAC,CAAD,CAAN,CAAR,IAAsB,CAPd;AAQhBY,IAAAA,OAAO,EAAE,CARO;AAShBC,IAAAA,MAAM,EAAE,CAAC,CAACb,KAAK,CAAC,CAAD,CATC;AAUhBb,IAAAA,OAAO,EAAE,CAAC,EAAEa,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAnB,CAVM;AAWhBc,IAAAA,IAAI,EAAE,KAXU;AAYhBC,IAAAA,OAAO,EAAE,KAZO;AAahBC,IAAAA,MAAM,EAAE;AAbQ,GAAlB;AAeAvB,EAAAA,aAAa,CAACf,SAAD,CAAb;AACAO,EAAAA,eAAe,CAACP,SAAD,CAAf;;AAEA,MAAI8B,GAAJ,EAAS;AACPtB,IAAAA,cAAc,CAACR,SAAD,EAAY8B,GAAZ,EAAiB9B,SAAS,CAACS,OAA3B,CAAd;AACD;;AAED,SAAOT,SAAP;AACD;AACD,OAAO,SAASuC,SAAT,CAAmBP,IAAnB,EAAyB;AAC9B,SAAOzB,eAAe,CAAC;AACrByB,IAAAA,IAAI,EAAE,EADe;AAErBC,IAAAA,IAAI,EAAE,EAFe;AAGrBf,IAAAA,IAAI,EAAEc,IAAI,CAACQ,WAAL,EAHe;AAIrBrB,IAAAA,KAAK,EAAEa,IAAI,CAACS,QAAL,KAAkB,CAJJ;AAKrB3B,IAAAA,GAAG,EAAEkB,IAAI,CAACU,OAAL,EALgB;AAMrBR,IAAAA,OAAO,EAAEF,IAAI,CAACW,MAAL,EANY;AAOrBlB,IAAAA,IAAI,EAAEO,IAAI,CAACY,QAAL,EAPe;AAQrBlB,IAAAA,MAAM,EAAEM,IAAI,CAACa,UAAL,EARa;AASrBV,IAAAA,MAAM,EAAE,IATa;AAUrB1B,IAAAA,OAAO,EAAE,IAVY;AAWrB2B,IAAAA,IAAI,EAAE,KAXe;AAYrBC,IAAAA,OAAO,EAAE,IAZY;AAarBC,IAAAA,MAAM,EAAE;AAba,GAAD,CAAtB;AAeD;AACD,OAAO,SAASQ,gBAAT,CAA0B9C,SAA1B,EAAqC;AAC1C,SAAOA,SAAS,CAACkB,IAAV,GAAiBvB,WAAjB,GAA+BK,SAAS,CAACmB,KAAV,GAAkBvB,YAAjD,GAAgEI,SAAS,CAACc,GAAjF;AACD;AACD,OAAO,SAASiC,iBAAT,CAA2B/C,SAA3B,EAAsC;AAC3C,SAAOA,SAAS,CAACyB,IAAV,GAAiB5B,WAAjB,GAA+BG,SAAS,CAAC0B,MAAhD;AACD;AACD,OAAO,SAASsB,sBAAT,CAAgChD,SAAhC,EAA2C;AAChD,SAAO8C,gBAAgB,CAAC9C,SAAD,CAAhB,GAA8BF,WAA9B,GAA4CiD,iBAAiB,CAAC/C,SAAD,CAApE;AACD;AACD,OAAO,SAASQ,cAAT,CAAwBR,SAAxB,EAAmC8B,GAAnC,EAAsD;AAAA,MAAdG,IAAc,uEAAP,KAAO;AAC3D,MAAIgB,CAAC,GAAGH,gBAAgB,CAAChB,GAAD,CAAxB;AACA,MAAIoB,CAAC,GAAGJ,gBAAgB,CAAC9C,SAAD,CAAxB;AACA,MAAIqC,OAAO,GAAGY,CAAC,KAAKC,CAApB;;AAEA,MAAIlD,SAAS,CAACS,OAAV,IAAqBwB,IAArB,IAA6BI,OAAjC,EAA0C;AACxCY,IAAAA,CAAC,GAAGF,iBAAiB,CAACjB,GAAD,CAArB;AACAoB,IAAAA,CAAC,GAAGH,iBAAiB,CAAC/C,SAAD,CAArB;AACAqC,IAAAA,OAAO,GAAGY,CAAC,KAAKC,CAAhB;AACD;;AAEDlD,EAAAA,SAAS,CAACoC,IAAV,GAAiBc,CAAC,GAAGD,CAArB;AACAjD,EAAAA,SAAS,CAACqC,OAAV,GAAoBA,OAApB;AACArC,EAAAA,SAAS,CAACsC,MAAV,GAAmBY,CAAC,GAAGD,CAAvB;AACA,SAAOjD,SAAP;AACD;AACD,OAAO,SAASmD,aAAT,CAAuBnD,SAAvB,EAAkCoD,OAAlC,EAA2CtB,GAA3C,EAAgD;AACrD9B,EAAAA,SAAS,CAACS,OAAV,GAAoB,IAApB;AACAT,EAAAA,SAAS,CAACyB,IAAV,GAAiB4B,IAAI,CAACC,KAAL,CAAWF,OAAO,GAAG5D,eAArB,CAAjB;AACAQ,EAAAA,SAAS,CAAC0B,MAAV,GAAmB0B,OAAO,GAAG5D,eAA7B;AACAQ,EAAAA,SAAS,CAACiC,IAAV,GAAiBsB,OAAO,CAACvD,SAAD,CAAxB;;AAEA,MAAI8B,GAAJ,EAAS;AACPtB,IAAAA,cAAc,CAACR,SAAD,EAAY8B,GAAZ,EAAiB,IAAjB,CAAd;AACD;;AAED,SAAO9B,SAAP;AACD;AACD,OAAO,SAASe,aAAT,CAAuBf,SAAvB,EAAkC;AACvCA,EAAAA,SAAS,CAACkC,OAAV,GAAoBsB,UAAU,CAACxD,SAAD,CAA9B;AACA,SAAOA,SAAP;AACD;AACD,OAAO,SAASO,eAAT,CAAyBP,SAAzB,EAAoC;AACzCA,EAAAA,SAAS,CAACiC,IAAV,GAAiBsB,OAAO,CAACvD,SAAD,CAAxB;AACAA,EAAAA,SAAS,CAACgC,IAAV,GAAiBU,OAAO,CAAC1C,SAAD,CAAxB;AACA,SAAOA,SAAP;AACD;AACD,OAAO,SAASwD,UAAT,CAAoBxD,SAApB,EAA+B;AACpC,MAAIA,SAAS,CAACmC,MAAd,EAAsB;AACpB,QAAMsB,CAAC,GAAGJ,IAAI,CAACC,KAAf;AACA,QAAMI,CAAC,GAAG1D,SAAS,CAACc,GAApB;AACA,QAAM6C,CAAC,GAAG,CAAC3D,SAAS,CAACmB,KAAV,GAAkB,CAAnB,IAAwB/B,SAAxB,GAAoC,CAA9C;;AAEA,QAAMwE,CAAC,GAAGH,CAAC,CAACzD,SAAS,CAACkB,IAAV,GAAiB,GAAlB,CAAX;;AAEA,QAAM2C,CAAC,GAAG7D,SAAS,CAACkB,IAAV,GAAiB,GAAjB,IAAwBlB,SAAS,CAACmB,KAAV,IAAmB,CAAnB,GAAuB,CAAvB,GAA2B,CAAnD,CAAV;AACA,WAAO,CAAC,CAACuC,CAAC,GAAGD,CAAC,CAAC,MAAME,CAAN,GAAU,GAAX,CAAL,GAAuB,IAAIC,CAA3B,GAA+BC,CAA/B,GAAmCJ,CAAC,CAACI,CAAC,GAAG,CAAL,CAApC,GAA8CJ,CAAC,CAACG,CAAC,GAAG,CAAL,CAAhD,IAA2D,CAA3D,GAA+D,CAAhE,IAAqE,CAA5E;AACD;;AAED,SAAO5D,SAAS,CAACkC,OAAjB;AACD;AACD,OAAO,SAASjB,WAAT,CAAqBC,IAArB,EAA2BC,KAA3B,EAAkC;AACvC,SAAOtC,UAAU,CAACqC,IAAD,CAAV,GAAmBjC,kBAAkB,CAACkC,KAAD,CAArC,GAA+CnC,aAAa,CAACmC,KAAD,CAAnE;AACD;AACD,OAAO,SAASf,aAAT,CAAuBJ,SAAvB,EAAkC;AAAA,MAErCgC,IAFqC,GAenChC,SAfmC,CAErCgC,IAFqC;AAAA,MAGrCC,IAHqC,GAenCjC,SAfmC,CAGrCiC,IAHqC;AAAA,MAIrCf,IAJqC,GAenClB,SAfmC,CAIrCkB,IAJqC;AAAA,MAKrCC,KALqC,GAenCnB,SAfmC,CAKrCmB,KALqC;AAAA,MAMrCL,GANqC,GAenCd,SAfmC,CAMrCc,GANqC;AAAA,MAOrCoB,OAPqC,GAenClC,SAfmC,CAOrCkC,OAPqC;AAAA,MAQrCT,IARqC,GAenCzB,SAfmC,CAQrCyB,IARqC;AAAA,MASrCC,MATqC,GAenC1B,SAfmC,CASrC0B,MATqC;AAAA,MAUrCS,MAVqC,GAenCnC,SAfmC,CAUrCmC,MAVqC;AAAA,MAWrC1B,OAXqC,GAenCT,SAfmC,CAWrCS,OAXqC;AAAA,MAYrC2B,IAZqC,GAenCpC,SAfmC,CAYrCoC,IAZqC;AAAA,MAarCC,OAbqC,GAenCrC,SAfmC,CAarCqC,OAbqC;AAAA,MAcrCC,MAdqC,GAenCtC,SAfmC,CAcrCsC,MAdqC;AAgBvC,SAAO;AACLN,IAAAA,IAAI,EAAJA,IADK;AAELC,IAAAA,IAAI,EAAJA,IAFK;AAGLf,IAAAA,IAAI,EAAJA,IAHK;AAILC,IAAAA,KAAK,EAALA,KAJK;AAKLL,IAAAA,GAAG,EAAHA,GALK;AAMLoB,IAAAA,OAAO,EAAPA,OANK;AAOLT,IAAAA,IAAI,EAAJA,IAPK;AAQLC,IAAAA,MAAM,EAANA,MARK;AASLS,IAAAA,MAAM,EAANA,MATK;AAUL1B,IAAAA,OAAO,EAAPA,OAVK;AAWL2B,IAAAA,IAAI,EAAJA,IAXK;AAYLC,IAAAA,OAAO,EAAPA,OAZK;AAaLC,IAAAA,MAAM,EAANA;AAbK,GAAP;AAeD;AACD,OAAO,SAASwB,SAAT,CAAmBC,CAAnB,EAAsBnD,MAAtB,EAA8B;AACnC,MAAIoD,MAAM,GAAGC,MAAM,CAACF,CAAD,CAAnB;;AAEA,SAAOC,MAAM,CAACpD,MAAP,GAAgBA,MAAvB,EAA+B;AAC7BoD,IAAAA,MAAM,GAAG,MAAMA,MAAf;AACD;;AAED,SAAOA,MAAP;AACD;AACD,OAAO,SAAStB,OAAT,CAAiB1C,SAAjB,EAA4B;AACjC,MAAIkE,GAAG,aAAMJ,SAAS,CAAC9D,SAAS,CAACkB,IAAX,EAAiB,CAAjB,CAAf,cAAsC4C,SAAS,CAAC9D,SAAS,CAACmB,KAAX,EAAkB,CAAlB,CAA/C,CAAP;AACA,MAAInB,SAAS,CAACmC,MAAd,EAAsB+B,GAAG,eAAQJ,SAAS,CAAC9D,SAAS,CAACc,GAAX,EAAgB,CAAhB,CAAjB,CAAH;AACtB,SAAOoD,GAAP;AACD;AACD,OAAO,SAASX,OAAT,CAAiBvD,SAAjB,EAA4B;AACjC,MAAI,CAACA,SAAS,CAACS,OAAf,EAAwB;AACtB,WAAO,EAAP;AACD;;AAED,mBAAUqD,SAAS,CAAC9D,SAAS,CAACyB,IAAX,EAAiB,CAAjB,CAAnB,cAA0CqC,SAAS,CAAC9D,SAAS,CAAC0B,MAAX,EAAmB,CAAnB,CAAnD;AACD;AACD,OAAO,SAASyC,WAAT,CAAqBnE,SAArB,EAAgCoD,OAAhC,EAAyC;AAC9CpD,EAAAA,SAAS,CAAC0B,MAAV,IAAoB0B,OAApB;;AAEA,SAAOpD,SAAS,CAAC0B,MAAV,GAAmBlC,eAA1B,EAA2C;AACzCQ,IAAAA,SAAS,CAAC0B,MAAV,IAAoBlC,eAApB;AACAQ,IAAAA,SAAS,CAACyB,IAAV;;AAEA,QAAIzB,SAAS,CAACyB,IAAV,IAAkBhC,YAAtB,EAAoC;AAClC2E,MAAAA,OAAO,CAACpE,SAAD,CAAP;AACAA,MAAAA,SAAS,CAACyB,IAAV,GAAiB/B,UAAjB;AACD;AACF;;AAED,SAAOM,SAAP;AACD;AACD,OAAO,SAASoE,OAAT,CAAiBpE,SAAjB,EAA4B;AACjCA,EAAAA,SAAS,CAACc,GAAV;AACAd,EAAAA,SAAS,CAACkC,OAAV,GAAoB,CAAClC,SAAS,CAACkC,OAAV,GAAoB,CAArB,IAA0B3C,YAA9C;;AAEA,MAAIS,SAAS,CAACc,GAAV,GAAgB5B,iBAAhB,IAAqCc,SAAS,CAACc,GAAV,GAAgBG,WAAW,CAACjB,SAAS,CAACkB,IAAX,EAAiBlB,SAAS,CAACmB,KAA3B,CAApE,EAAuG;AACrGnB,IAAAA,SAAS,CAACc,GAAV,GAAgBxB,OAAhB;AACAU,IAAAA,SAAS,CAACmB,KAAV;;AAEA,QAAInB,SAAS,CAACmB,KAAV,GAAkB/B,SAAtB,EAAiC;AAC/BY,MAAAA,SAAS,CAACmB,KAAV,GAAkB9B,SAAlB;AACAW,MAAAA,SAAS,CAACkB,IAAV;AACD;AACF;;AAED,SAAOlB,SAAP;AACD;AACD,OAAO,SAASM,OAAT,CAAiBN,SAAjB,EAA4B;AACjCA,EAAAA,SAAS,CAACc,GAAV;AACAd,EAAAA,SAAS,CAACkC,OAAV,GAAoB,CAAClC,SAAS,CAACkC,OAAV,GAAoB,CAArB,IAA0B3C,YAA9C;;AAEA,MAAIS,SAAS,CAACc,GAAV,GAAgBxB,OAApB,EAA6B;AAC3BU,IAAAA,SAAS,CAACmB,KAAV;;AAEA,QAAInB,SAAS,CAACmB,KAAV,GAAkB9B,SAAtB,EAAiC;AAC/BW,MAAAA,SAAS,CAACkB,IAAV;AACAlB,MAAAA,SAAS,CAACmB,KAAV,GAAkB/B,SAAlB;AACD;;AAEDY,IAAAA,SAAS,CAACc,GAAV,GAAgBG,WAAW,CAACjB,SAAS,CAACkB,IAAX,EAAiBlB,SAAS,CAACmB,KAA3B,CAA3B;AACD;;AAED,SAAOnB,SAAP;AACD;AACD,OAAO,SAASqE,YAAT,CAAsBrE,SAAtB,EAA4D;AAAA,MAA3BsE,KAA2B,uEAAnBF,OAAmB;AAAA,MAAVG,IAAU,uEAAH,CAAG;;AACjE,SAAO,EAAEA,IAAF,IAAU,CAAjB;AAAoBD,IAAAA,KAAK,CAACtE,SAAD,CAAL;AAApB;;AAEA,SAAOA,SAAP;AACD;AACD,OAAO,SAASwE,WAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;AACpC,MAAMb,CAAC,GAAG,CAACa,GAAG,CAACxD,IAAJ,GAAWuD,GAAG,CAACvD,IAAhB,IAAwB,MAAlC;AACA,MAAMyD,CAAC,GAAG,CAACD,GAAG,CAACvD,KAAJ,GAAYsD,GAAG,CAACtD,KAAjB,IAA0B,KAApC;AACA,MAAMyD,CAAC,GAAG,CAACF,GAAG,CAAC5D,GAAJ,GAAU2D,GAAG,CAAC3D,GAAf,IAAsB,IAAhC;AACA,MAAM+D,CAAC,GAAG,CAACH,GAAG,CAACjD,IAAJ,GAAWgD,GAAG,CAAChD,IAAhB,IAAwB,EAAlC;AACA,MAAMkC,CAAC,GAAGe,GAAG,CAAChD,MAAJ,GAAa+C,GAAG,CAAC/C,MAA3B;AACA,SAAOmC,CAAC,GAAGc,CAAJ,GAAQC,CAAR,GAAYC,CAAZ,GAAgBlB,CAAvB;AACD;AACD,OAAO,SAAStD,WAAT,CAAqBL,SAArB,EAAgCkC,OAAhC,EAAuE;AAAA,MAA9BoC,KAA8B,uEAAtBF,OAAsB;AAAA,MAAbU,OAAa,uEAAH,CAAG;;AAC5E,SAAO9E,SAAS,CAACkC,OAAV,KAAsBA,OAAtB,IAAiC,EAAE4C,OAAF,IAAa,CAArD;AAAwDR,IAAAA,KAAK,CAACtE,SAAD,CAAL;AAAxD;;AAEA,SAAOA,SAAP;AACD;AACD,OAAO,SAAS+E,eAAT,CAAyB9E,QAAzB,EAAmC;AACxC,MAAM+E,KAAK,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAd;AACA,MAAMC,MAAM,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAf;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjF,QAAQ,CAACW,MAA7B,EAAqCsE,CAAC,EAAtC,EAA0C;AACxCD,IAAAA,MAAM,CAAChF,QAAQ,CAACiF,CAAD,CAAT,CAAN,GAAsB,CAAtB;AACD;;AAED,OAAK,IAAIxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnE,YAApB,EAAkCmE,CAAC,EAAnC,EAAuC;AACrC,QAAIyB,IAAI,GAAG,CAAX;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7F,YAApB,EAAkC6F,CAAC,EAAnC,EAAuC;AACrC,UAAMC,IAAI,GAAG,CAAC3B,CAAC,GAAG0B,CAAL,IAAU7F,YAAvB;;AAEA,UAAI0F,MAAM,CAACI,IAAD,CAAV,EAAkB;AAChB;AACD;;AAEDF,MAAAA,IAAI;AACL;;AAEDH,IAAAA,KAAK,CAACtB,CAAD,CAAL,GAAWuB,MAAM,CAACvB,CAAD,CAAN,GAAYyB,IAAvB;AACD;;AAED,SAAOH,KAAP;AACD;AACD,OAAO,SAASM,aAAT,CAAuBnF,KAAvB,EAA8BQ,GAA9B,EAAmCmB,GAAnC,EAAwCyD,YAAxC,EAAyE;AAAA,MAAnBb,GAAmB,uEAAb,EAAa;AAAA,MAATD,GAAS,uEAAH,CAAG;AAC9E,MAAMe,IAAI,GAAG1C,gBAAgB,CAACnC,GAAD,CAA7B;AACA,MAAM4D,IAAI,GAAG,EAAb;AACA,MAAIkB,OAAO,GAAGrF,aAAa,CAACD,KAAD,CAA3B;AACA,MAAIuF,iBAAiB,GAAG,CAAxB;AACA,MAAIC,OAAO,GAAGD,iBAAiB,KAAKF,IAApC;;AAEA,MAAIA,IAAI,GAAG1C,gBAAgB,CAAC3C,KAAD,CAA3B,EAAoC;AAClC,UAAM,IAAI4B,KAAJ,CAAU,sCAAV,CAAN;AACD;;AAED,SAAO,CAAC,CAAC4D,OAAD,IAAYpB,IAAI,CAAC3D,MAAL,GAAc6D,GAA3B,KAAmCF,IAAI,CAAC3D,MAAL,GAAc8D,GAAxD,EAA6D;AAC3DgB,IAAAA,iBAAiB,GAAG5C,gBAAgB,CAAC2C,OAAD,CAApC;AACAE,IAAAA,OAAO,GAAGA,OAAO,IAAID,iBAAiB,KAAKF,IAA3C;;AAEA,QAAID,YAAY,CAACE,OAAO,CAACvD,OAAT,CAAZ,KAAkC,CAAtC,EAAyC;AACvCuD,MAAAA,OAAO,GAAGrB,OAAO,CAACqB,OAAD,CAAjB;AACA;AACD;;AAED,QAAM3E,GAAG,GAAGV,aAAa,CAACqF,OAAD,CAAzB;AACAlF,IAAAA,eAAe,CAACO,GAAD,CAAf;AACAN,IAAAA,cAAc,CAACM,GAAD,EAAMgB,GAAN,CAAd;AACAyC,IAAAA,IAAI,CAACqB,IAAL,CAAU9E,GAAV;AACA2E,IAAAA,OAAO,GAAGpB,YAAY,CAACoB,OAAD,EAAUrB,OAAV,EAAmBmB,YAAY,CAACE,OAAO,CAACvD,OAAT,CAA/B,CAAtB;AACD;;AAED,MAAI,CAACqC,IAAI,CAAC3D,MAAV,EAAkB,MAAM,IAAImB,KAAJ,CAAU,oEAAV,CAAN;AAClB,SAAOwC,IAAP;AACD;AACD,OAAO,SAASsB,kBAAT,CAA4B7F,SAA5B,EAAuC8F,KAAvC,EAA8C1C,OAA9C,EAAuD2C,KAAvD,EAA8DjE,GAA9D,EAAmE;AACxE,MAAMkE,SAAS,GAAG,EAAlB;;AAEA,OAAK,IAAId,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGa,KAApB,EAA2Bb,CAAC,EAA5B,EAAgC;AAC9B,QAAMe,IAAI,GAAG,CAACH,KAAK,GAAGZ,CAAT,IAAc9B,OAA3B;AACA,QAAM8C,GAAG,GAAG9F,aAAa,CAACJ,SAAD,CAAzB;AACAgG,IAAAA,SAAS,CAACJ,IAAV,CAAezC,aAAa,CAAC+C,GAAD,EAAMD,IAAN,EAAYnE,GAAZ,CAA5B;AACD;;AAED,SAAOkE,SAAP;AACD;AACD,OAAO,SAASG,2BAAT,CAAqCC,MAArC,EAA6CC,UAA7C,EAAyD;AAC9D,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,EAAD,EAAKC,EAAL;AAAA,WAAY,EAAZ;AAAA,GAAvB;;AAEA,MAAI,OAAOC,IAAP,KAAgB,WAAhB,IAA+B,OAAOA,IAAI,CAACC,cAAZ,KAA+B,WAAlE,EAA+E;AAC7E,WAAOJ,cAAP;AACD;;AAED,SAAO,UAACtG,SAAD,EAAY2G,KAAZ,EAAsB;AAC3B,QAAI;AACF,UAAMC,aAAa,GAAG,IAAIH,IAAI,CAACC,cAAT,CAAwBN,MAAM,IAAIS,SAAlC,EAA6CR,UAAU,CAACrG,SAAD,EAAY2G,KAAZ,CAAvD,CAAtB;AACA,UAAM1E,IAAI,aAAM6B,SAAS,CAAC9D,SAAS,CAACyB,IAAX,EAAiB,CAAjB,CAAf,cAAsCqC,SAAS,CAAC9D,SAAS,CAAC0B,MAAX,EAAmB,CAAnB,CAA/C,CAAV;AACA,UAAMM,IAAI,GAAGhC,SAAS,CAACgC,IAAvB;AACA,aAAO4E,aAAa,CAACE,MAAd,CAAqB,IAAIC,IAAJ,WAAY/E,IAAZ,cAAoBC,IAApB,eAArB,CAAP;AACD,KALD,CAKE,OAAO+E,CAAP,EAAU;AACV,aAAO,EAAP;AACD;AACF,GATD;AAUD","sourcesContent":["import { isLeapYear } from '../../../util/dateTimeUtils';\nexport const PARSE_REGEX = /^(\\d{4})-(\\d{1,2})(-(\\d{1,2}))?([^\\d]+(\\d{1,2}))?(:(\\d{1,2}))?(:(\\d{1,2}))?$/;\nexport const PARSE_TIME = /(\\d\\d?)(:(\\d\\d?)|)(:(\\d\\d?)|)/;\nexport const DAYS_IN_MONTH = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nexport const DAYS_IN_MONTH_LEAP = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nexport const DAYS_IN_MONTH_MIN = 28;\nexport const DAYS_IN_MONTH_MAX = 31;\nexport const MONTH_MAX = 12;\nexport const MONTH_MIN = 1;\nexport const DAY_MIN = 1;\nexport const DAYS_IN_WEEK = 7;\nexport const MINUTES_IN_HOUR = 60;\nexport const HOURS_IN_DAY = 24;\nexport const FIRST_HOUR = 0;\nexport const OFFSET_YEAR = 10000;\nexport const OFFSET_MONTH = 100;\nexport const OFFSET_HOUR = 100;\nexport const OFFSET_TIME = 10000;\nexport function getStartOfWeek(timestamp, weekdays, today) {\n  const start = copyTimestamp(timestamp);\n  findWeekday(start, weekdays[0], prevDay);\n  updateFormatted(start);\n\n  if (today) {\n    updateRelative(start, today, start.hasTime);\n  }\n\n  return start;\n}\nexport function getEndOfWeek(timestamp, weekdays, today) {\n  const end = copyTimestamp(timestamp);\n  findWeekday(end, weekdays[weekdays.length - 1]);\n  updateFormatted(end);\n\n  if (today) {\n    updateRelative(end, today, end.hasTime);\n  }\n\n  return end;\n}\nexport function getStartOfMonth(timestamp) {\n  const start = copyTimestamp(timestamp);\n  start.day = DAY_MIN;\n  updateWeekday(start);\n  updateFormatted(start);\n  return start;\n}\nexport function getEndOfMonth(timestamp) {\n  const end = copyTimestamp(timestamp);\n  end.day = daysInMonth(end.year, end.month);\n  updateWeekday(end);\n  updateFormatted(end);\n  return end;\n}\nexport function parseTime(input) {\n  if (typeof input === 'number') {\n    // when a number is given, it's minutes since 12:00am\n    return input;\n  } else if (typeof input === 'string') {\n    // when a string is given, it's a hh:mm:ss format where seconds are optional\n    const parts = PARSE_TIME.exec(input);\n\n    if (!parts) {\n      return false;\n    }\n\n    return parseInt(parts[1]) * 60 + parseInt(parts[3] || 0);\n  } else if (typeof input === 'object') {\n    // when an object is given, it must have hour and minute\n    if (typeof input.hour !== 'number' || typeof input.minute !== 'number') {\n      return false;\n    }\n\n    return input.hour * 60 + input.minute;\n  } else {\n    // unsupported type\n    return false;\n  }\n}\nexport function validateTimestamp(input) {\n  return !!PARSE_REGEX.exec(input);\n}\nexport function parseTimestamp(input, required = false, now) {\n  // YYYY-MM-DD hh:mm:ss\n  const parts = PARSE_REGEX.exec(input);\n\n  if (!parts) {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`);\n    }\n\n    return null;\n  }\n\n  const timestamp = {\n    date: input,\n    time: '',\n    year: parseInt(parts[1]),\n    month: parseInt(parts[2]),\n    day: parseInt(parts[4]) || 1,\n    hour: parseInt(parts[6]) || 0,\n    minute: parseInt(parts[8]) || 0,\n    weekday: 0,\n    hasDay: !!parts[4],\n    hasTime: !!(parts[6] && parts[8]),\n    past: false,\n    present: false,\n    future: false\n  };\n  updateWeekday(timestamp);\n  updateFormatted(timestamp);\n\n  if (now) {\n    updateRelative(timestamp, now, timestamp.hasTime);\n  }\n\n  return timestamp;\n}\nexport function parseDate(date) {\n  return updateFormatted({\n    date: '',\n    time: '',\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate(),\n    weekday: date.getDay(),\n    hour: date.getHours(),\n    minute: date.getMinutes(),\n    hasDay: true,\n    hasTime: true,\n    past: false,\n    present: true,\n    future: false\n  });\n}\nexport function getDayIdentifier(timestamp) {\n  return timestamp.year * OFFSET_YEAR + timestamp.month * OFFSET_MONTH + timestamp.day;\n}\nexport function getTimeIdentifier(timestamp) {\n  return timestamp.hour * OFFSET_HOUR + timestamp.minute;\n}\nexport function getTimestampIdentifier(timestamp) {\n  return getDayIdentifier(timestamp) * OFFSET_TIME + getTimeIdentifier(timestamp);\n}\nexport function updateRelative(timestamp, now, time = false) {\n  let a = getDayIdentifier(now);\n  let b = getDayIdentifier(timestamp);\n  let present = a === b;\n\n  if (timestamp.hasTime && time && present) {\n    a = getTimeIdentifier(now);\n    b = getTimeIdentifier(timestamp);\n    present = a === b;\n  }\n\n  timestamp.past = b < a;\n  timestamp.present = present;\n  timestamp.future = b > a;\n  return timestamp;\n}\nexport function updateMinutes(timestamp, minutes, now) {\n  timestamp.hasTime = true;\n  timestamp.hour = Math.floor(minutes / MINUTES_IN_HOUR);\n  timestamp.minute = minutes % MINUTES_IN_HOUR;\n  timestamp.time = getTime(timestamp);\n\n  if (now) {\n    updateRelative(timestamp, now, true);\n  }\n\n  return timestamp;\n}\nexport function updateWeekday(timestamp) {\n  timestamp.weekday = getWeekday(timestamp);\n  return timestamp;\n}\nexport function updateFormatted(timestamp) {\n  timestamp.time = getTime(timestamp);\n  timestamp.date = getDate(timestamp);\n  return timestamp;\n}\nexport function getWeekday(timestamp) {\n  if (timestamp.hasDay) {\n    const _ = Math.floor;\n    const k = timestamp.day;\n    const m = (timestamp.month + 9) % MONTH_MAX + 1;\n\n    const C = _(timestamp.year / 100);\n\n    const Y = timestamp.year % 100 - (timestamp.month <= 2 ? 1 : 0);\n    return ((k + _(2.6 * m - 0.2) - 2 * C + Y + _(Y / 4) + _(C / 4)) % 7 + 7) % 7;\n  }\n\n  return timestamp.weekday;\n}\nexport function daysInMonth(year, month) {\n  return isLeapYear(year) ? DAYS_IN_MONTH_LEAP[month] : DAYS_IN_MONTH[month];\n}\nexport function copyTimestamp(timestamp) {\n  const {\n    date,\n    time,\n    year,\n    month,\n    day,\n    weekday,\n    hour,\n    minute,\n    hasDay,\n    hasTime,\n    past,\n    present,\n    future\n  } = timestamp;\n  return {\n    date,\n    time,\n    year,\n    month,\n    day,\n    weekday,\n    hour,\n    minute,\n    hasDay,\n    hasTime,\n    past,\n    present,\n    future\n  };\n}\nexport function padNumber(x, length) {\n  let padded = String(x);\n\n  while (padded.length < length) {\n    padded = '0' + padded;\n  }\n\n  return padded;\n}\nexport function getDate(timestamp) {\n  let str = `${padNumber(timestamp.year, 4)}-${padNumber(timestamp.month, 2)}`;\n  if (timestamp.hasDay) str += `-${padNumber(timestamp.day, 2)}`;\n  return str;\n}\nexport function getTime(timestamp) {\n  if (!timestamp.hasTime) {\n    return '';\n  }\n\n  return `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`;\n}\nexport function nextMinutes(timestamp, minutes) {\n  timestamp.minute += minutes;\n\n  while (timestamp.minute > MINUTES_IN_HOUR) {\n    timestamp.minute -= MINUTES_IN_HOUR;\n    timestamp.hour++;\n\n    if (timestamp.hour >= HOURS_IN_DAY) {\n      nextDay(timestamp);\n      timestamp.hour = FIRST_HOUR;\n    }\n  }\n\n  return timestamp;\n}\nexport function nextDay(timestamp) {\n  timestamp.day++;\n  timestamp.weekday = (timestamp.weekday + 1) % DAYS_IN_WEEK;\n\n  if (timestamp.day > DAYS_IN_MONTH_MIN && timestamp.day > daysInMonth(timestamp.year, timestamp.month)) {\n    timestamp.day = DAY_MIN;\n    timestamp.month++;\n\n    if (timestamp.month > MONTH_MAX) {\n      timestamp.month = MONTH_MIN;\n      timestamp.year++;\n    }\n  }\n\n  return timestamp;\n}\nexport function prevDay(timestamp) {\n  timestamp.day--;\n  timestamp.weekday = (timestamp.weekday + 6) % DAYS_IN_WEEK;\n\n  if (timestamp.day < DAY_MIN) {\n    timestamp.month--;\n\n    if (timestamp.month < MONTH_MIN) {\n      timestamp.year--;\n      timestamp.month = MONTH_MAX;\n    }\n\n    timestamp.day = daysInMonth(timestamp.year, timestamp.month);\n  }\n\n  return timestamp;\n}\nexport function relativeDays(timestamp, mover = nextDay, days = 1) {\n  while (--days >= 0) mover(timestamp);\n\n  return timestamp;\n}\nexport function diffMinutes(min, max) {\n  const Y = (max.year - min.year) * 525600;\n  const M = (max.month - min.month) * 43800;\n  const D = (max.day - min.day) * 1440;\n  const h = (max.hour - min.hour) * 60;\n  const m = max.minute - min.minute;\n  return Y + M + D + h + m;\n}\nexport function findWeekday(timestamp, weekday, mover = nextDay, maxDays = 6) {\n  while (timestamp.weekday !== weekday && --maxDays >= 0) mover(timestamp);\n\n  return timestamp;\n}\nexport function getWeekdaySkips(weekdays) {\n  const skips = [1, 1, 1, 1, 1, 1, 1];\n  const filled = [0, 0, 0, 0, 0, 0, 0];\n\n  for (let i = 0; i < weekdays.length; i++) {\n    filled[weekdays[i]] = 1;\n  }\n\n  for (let k = 0; k < DAYS_IN_WEEK; k++) {\n    let skip = 1;\n\n    for (let j = 1; j < DAYS_IN_WEEK; j++) {\n      const next = (k + j) % DAYS_IN_WEEK;\n\n      if (filled[next]) {\n        break;\n      }\n\n      skip++;\n    }\n\n    skips[k] = filled[k] * skip;\n  }\n\n  return skips;\n}\nexport function createDayList(start, end, now, weekdaySkips, max = 42, min = 0) {\n  const stop = getDayIdentifier(end);\n  const days = [];\n  let current = copyTimestamp(start);\n  let currentIdentifier = 0;\n  let stopped = currentIdentifier === stop;\n\n  if (stop < getDayIdentifier(start)) {\n    throw new Error('End date is earlier than start date.');\n  }\n\n  while ((!stopped || days.length < min) && days.length < max) {\n    currentIdentifier = getDayIdentifier(current);\n    stopped = stopped || currentIdentifier === stop;\n\n    if (weekdaySkips[current.weekday] === 0) {\n      current = nextDay(current);\n      continue;\n    }\n\n    const day = copyTimestamp(current);\n    updateFormatted(day);\n    updateRelative(day, now);\n    days.push(day);\n    current = relativeDays(current, nextDay, weekdaySkips[current.weekday]);\n  }\n\n  if (!days.length) throw new Error('No dates found using specified start date, end date, and weekdays.');\n  return days;\n}\nexport function createIntervalList(timestamp, first, minutes, count, now) {\n  const intervals = [];\n\n  for (let i = 0; i < count; i++) {\n    const mins = (first + i) * minutes;\n    const int = copyTimestamp(timestamp);\n    intervals.push(updateMinutes(int, mins, now));\n  }\n\n  return intervals;\n}\nexport function createNativeLocaleFormatter(locale, getOptions) {\n  const emptyFormatter = (_t, _s) => '';\n\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return emptyFormatter;\n  }\n\n  return (timestamp, short) => {\n    try {\n      const intlFormatter = new Intl.DateTimeFormat(locale || undefined, getOptions(timestamp, short));\n      const time = `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`;\n      const date = timestamp.date;\n      return intlFormatter.format(new Date(`${date}T${time}:00+00:00`));\n    } catch (e) {\n      return '';\n    }\n  };\n}\n//# sourceMappingURL=timestamp.js.map"]}]}